<form title="List" width="400" height="450" min-width="300" min-height="400" padding="10" direction="v">
    <label>Greatlist: {{select}}, list: {{select2}}, label: {{label2}}</label>
    <tab v-model="ntab" :tabs="['greatlist', 'adaptation', 'list', 'async']" style="flex: 1; height: 0;">
        <!-- 默认 -->
        <layout v-if="ntab === 'greatlist'" direction="v" style="flex: 1; width: 0; padding: 10px;">
            <greatlist v-model="select" :data="slist" :disabled="disabled" :must="must" :multi="multi" :selection="selection" :scroll="scroll" @select="onSelect" style="line-height: 1.3; flex: 1; height: 0;">
                <template v-slot="data">
                    <layout v-if="data.row.type === 0" align-v="center" gutter="5" style="flex: 1;">
                        <img :src="data.row.src" style="width: 32px; height: 32px;"></img>
                        <block style="flex: 1;">
                            <block>{{data.row.name}}</block>
                            <block style="opacity: .7;">{{data.row.path}}</block>
                        </block>
                    </layout>
                    <template v-else>Other</template>
                </template>
                <template v-slot:pop>
                    <menulist>
                        <menulist-item alt="I" @click="showIndex">Show index</menulist-item>
                        <menulist-item alt="S" @click="showType">Show type</menulist-item>
                    </menulist>
                </template>
                <template v-slot:itempop>
                    <menulist>
                        <menulist-item alt="S">Set the default</menulist-item>
                    </menulist>
                </template>
            </greatlist>
            <label class="tip">Right-click (computer) or press and hold (phone) to open the universal menu.</label>
            <label class="tip">Area: {{selectionArea}}</label>
        </layout>
        <!-- 自适应 -->
        <layout v-else-if="ntab === 'adaptation'" direction="v" style="flex: 1; width: 0; padding: 10px;">
            <greatlist class="adaptation" :data="adData" v-model="select" :disabled="disabled" :must="must" :multi="multi" :selection="selection" :scroll="scroll" same>
                <template v-slot="data">type: {{data.row.type}}, index: {{data.index}}. {{(data.index === 20) ? 'long test long test long test long test long test' : ''}}</template>
                <template v-slot:itempop>
                    <menulist>
                        <menulist-item alt="N">None</menulist-item>
                    </menulist>
                </template>
            </greatlist>
        </layout>
        <!-- list -->
        <layout v-else-if="ntab === 'list'" direction="v" gutter="10" style="flex: 1; width: 0; padding: 10px;">
            <label>Raw data:</label>
            <view direction="v" style="border: solid 1px #b3b3b3; line-height: 1.5; height: 50px; padding: 5px;">{{listData}}</view>
            <layout gutter="10" style="flex: 1; height: 0;">
                <list v-model="select2" :disabled="disabled" :must="must" :multi="multi" :selection="selection" :scroll="scroll" :data="listData" @label="label2 = $event" style="flex: 2; width: 0;" :tree="tree" :async="async" :icon="icon" icon-default="../../../res/txt.svg" @load="onSelectLoad">
                    <menulist>
                        <menulist-item alt="I" @click="showIndex2">Show select</menulist-item>
                    </menulist>
                </list>
                <list :disabled="disabled" :must="must" :multi="multi" :selection="selection" :scroll="scroll" :data="listData2" style="flex: 1; width: 0;"></list>
            </layout>
            <label class="tip">Right-click (computer) or press and hold (phone) to open the universal menu.</label>
        </layout>
        <!-- async -->
        <layout v-else gutter="10" style="flex: 1; width: 0; padding: 10px;">
            <layout direction="v" gutter="10" style="flex: 1; width: 0;">
                <label>greatlist: {{select3}}</label>
                <greatlist v-model="select3" :disabled="disabled" :must="must" :multi="multi" :selection="selection" :scroll="scroll" :data="listData3" v-slot="data" style="flex: 1; height: 0;" same>
                    {{data.row.value ? data.row.value : data.row}}
                </greatlist>
                <button v-if="listData3.length === 0" @click="listData3 = [{'value': 'A', disabled: true}, 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N'];select3 = 12" style="height: 30px;">Load data</button>
            </layout>
            <layout direction="v" gutter="10" style="flex: 1; width: 0;">
                <label>list: {{select4}}</label>
                <list v-model="select4" :disabled="disabled" :must="must" :multi="multi" :selection="selection" :scroll="scroll" :data="listData4" style="flex: 1; height: 0;"></list>
                <button v-if="listData4.length === 0" @click="listData4 = [{'value': 'A', disabled: true}, 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N'];select4 = 'M'" style="height: 30px;">Load data</button>
            </layout>
        </layout>
    </tab>
    <layout class="ctr" gutter="10" v-show="ntab !== 'async'">
        <button @click="slist.splice(-2, 0, {'type': 0, 'name': 'Card' + slist.length, 'path': 'Bob >> folder >> Card', 'src': '/package/res/r-2.svg','disabled': false})">Add</button>
        <button @click="slist.splice(-3, 1)">Remove</button>
        <button @click="scrollChange">Scroll {{scroll}}</button>
        <button @click="icon = !icon" v-show="ntab === 'list'">{{icon ? '' : '!'}}icon</button>
    </layout>
    <layout class="ctr" gutter="10" v-show="ntab !== 'async'">
        <button @click="selectButton">Select {{ntab === 'list' ? 'item1' : 'item2'}}</button>
        <button @click="selectButtonList" v-show="ntab === 'list'">Select Sub3</button>
        <button @click="tree = !tree" v-show="ntab === 'list'">{{tree ? '' : '!'}}tree</button>
        <button @click="async = !async" v-show="ntab === 'list'">{{async ? '' : '!'}}async</button>
    </layout>
    <layout class="ctr" gutter="10">
        <button @click="disabled = !disabled">{{disabled ? '' : '!'}}disabled</button>
        <button @click="must = !must">{{must ? '' : '!'}}must</button>
        <button @click="multi = !multi">{{multi ? '' : '!'}}multi</button>
        <button @click="selection = !selection">{{selection ? '' : '!'}}selection</button>
    </layout>
</form>