var emodule=function(t){"use strict";function e(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(s){if("default"!==s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}}),e.default=t,Object.freeze(e)}var s=e(t);class a extends s.control.AbstractControl{get filename(){return"/code.js"}constructor(){super(...arguments),this.emits={changed:null,yearmonthchanged:null,selected:null,range:null,"update:modelValue":null,"update:tz":null,"update:yearmonth":null,"update:hourminute":null,"update:cursor":null},this.props={disabled:!1,plain:!1,disabledList:[],modelValue:void 0,start:void 0,end:void 0,tz:void 0,yearmonth:"",hourminute:"",cursor:"",jump:!0,time:!0,zone:!1,range:!1,clearbtn:!0,backbtn:!0},this.dateObj=new Date,this.dateValue={year:0,month:0,date:0},this.timestamp=void 0,this.startDate=new Date,this.startTs=0,this.startValue={year:0,month:0,date:0},this.endDate=new Date,this.endTs=0,this.endValue={year:0,month:0,date:0},this.tzData=0,this.localeData={en:{w0:"Sun",w1:"Mon",w2:"Tue",w3:"Wed",w4:"Thu",w5:"Fri",w6:"Sat",m1:"Jan",m2:"Feb",m3:"Mar",m4:"Apr",m5:"May",m6:"Jun",m7:"Jul",m8:"Aug",m9:"Sep",m10:"Oct",m11:"Nov",m12:"Dec",year:"Year",today:"Today",back:"Back",clear:"Clear"},sc:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六",m1:"1月",m2:"2月",m3:"3月",m4:"4月",m5:"5月",m6:"6月",m7:"7月",m8:"8月",m9:"9月",m10:"10月",m11:"11月",m12:"12月",year:"年",today:"今天",back:"返回",clear:"清除"},tc:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六",m1:"1月",m2:"2月",m3:"3月",m4:"4月",m5:"5月",m6:"6月",m7:"7月",m8:"8月",m9:"9月",m10:"10月",m11:"11月",m12:"12月",year:"年",today:"今天",back:"返回",clear:"清除"},ja:{w0:"日",w1:"月",w2:"火",w3:"水",w4:"木",w5:"金",w6:"土",m1:"1月",m2:"2月",m3:"3月",m4:"4月",m5:"5月",m6:"6月",m7:"7月",m8:"8月",m9:"9月",m10:"10月",m11:"11月",m12:"12月",year:"年",today:"今日",back:"戻る",clear:"クリア"},ko:{w0:"일",w1:"월",w2:"화",w3:"수",w4:"목",w5:"금",w6:"토",m1:"1월",m2:"2월",m3:"3월",m4:"4월",m5:"5월",m6:"6월",m7:"7월",m8:"8월",m9:"9월",m10:"10월",m11:"11월",m12:"12월",year:"년",today:"오늘",back:"뒤로",clear:"지우기"},th:{w0:"อา",w1:"จ",w2:"อ",w3:"พ",w4:"พฤ",w5:"ศ",w6:"ส",m1:"ม.ค.",m2:"ก.พ.",m3:"มี.ค.",m4:"เม.ย.",m5:"พ.ค.",m6:"มิ.ย.",m7:"ก.ค.",m8:"ส.ค.",m9:"ก.ย.",m10:"ต.ค.",m11:"พ.ย.",m12:"ธ.ค.",year:"ปี",today:"วันนี้",back:"กลับ",clear:"ล้าง"},es:{w0:"Dom",w1:"Lun",w2:"Mar",w3:"Mié",w4:"Jue",w5:"Vie",w6:"Sáb",m1:"Ene",m2:"Feb",m3:"Mar",m4:"Abr",m5:"May",m6:"Jun",m7:"Jul",m8:"Ago",m9:"Sep",m10:"Oct",m11:"Nov",m12:"Dic",year:"Año",today:"Hoy",back:"Volver",clear:"Claro"},de:{w0:"So",w1:"Mo",w2:"Di",w3:"Mi",w4:"Do",w5:"Fr",w6:"Sa",m1:"Jan",m2:"Feb",m3:"Mär",m4:"Apr",m5:"Mai",m6:"Jun",m7:"Jul",m8:"Aug",m9:"Sep",m10:"Okt",m11:"Nov",m12:"Dez",year:"Jahr",today:"Heute",back:"Zurück",clear:"Löschen"},fr:{w0:"Dim",w1:"Lun",w2:"Mar",w3:"Mer",w4:"Jeu",w5:"Ven",w6:"Sam",m1:"Jan",m2:"Fév",m3:"Mar",m4:"Avr",m5:"Mai",m6:"Juin",m7:"Juil",m8:"Aoû",m9:"Sep",m10:"Oct",m11:"Nov",m12:"Déc",year:"Année",today:"Aujourd'hui",back:"Retour",clear:"Effacer"},pt:{w0:"Dom",w1:"Seg",w2:"Ter",w3:"Qua",w4:"Qui",w5:"Sex",w6:"Sáb",m1:"Jan",m2:"Fev",m3:"Mar",m4:"Abr",m5:"Mai",m6:"Jun",m7:"Jul",m8:"Ago",m9:"Set",m10:"Out",m11:"Nov",m12:"Dez",year:"Ano",today:"Hoje",back:"Voltar",clear:"Limpar"},ru:{w0:"Вс",w1:"Пн",w2:"Вт",w3:"Ср",w4:"Чт",w5:"Пт",w6:"Сб",m1:"Янв",m2:"Фев",m3:"Мар",m4:"Апр",m5:"Май",m6:"Июн",m7:"Июл",m8:"Авг",m9:"Сен",m10:"Окт",m11:"Ноя",m12:"Дек",year:"Год",today:"Сегодня",back:"Назад",clear:"Очистить"},vi:{w0:"CN",w1:"T2",w2:"T3",w3:"T4",w4:"T5",w5:"T6",w6:"T7",m1:"Th1",m2:"Th2",m3:"Th3",m4:"Th4",m5:"Th5",m6:"Th6",m7:"Th7",m8:"Th8",m9:"Th9",m10:"Th10",m11:"Th11",m12:"Th12",year:"Năm",today:"Hôm nay",back:"Trở lại",clear:"Xóa"}},this.maps=[],this.vyear=[""],this.prevNextDate=new Date,this.prevYm="",this.nextYm="",this.vmonth=[""],this.vhour=[],this.hours=[],this.vminute=[],this.minutes=[],this.vseconds=[],this.seconds=[],this.vzone=[],this.zones=[],this.vzdec=[],this.zdecs=["00","15","30","45"],this.cursorDate="",this.rangeDate=void 0}get dateValueStr(){return this.dateValue.year.toString()+(this.dateValue.month+1).toString().padStart(2,"0")+this.dateValue.date.toString().padStart(2,"0")}refreshStartValue(){this.startValue.date=this.startDate.getUTCDate(),this.startValue.month=this.startDate.getUTCMonth(),this.startValue.year=this.startDate.getUTCFullYear()}get startYm(){return this.startValue.year.toString()+(this.startValue.month+1).toString().padStart(2,"0")}get startYmd(){return this.startYm+this.startValue.date.toString().padStart(2,"0")}refreshEndValue(){this.endValue.date=this.endDate.getUTCDate(),this.endValue.month=this.endDate.getUTCMonth(),this.endValue.year=this.endDate.getUTCFullYear()}get endYm(){return this.endValue.year.toString()+(this.endValue.month+1).toString().padStart(2,"0")}get endYmd(){return this.endYm+this.endValue.date.toString().padStart(2,"0")}get years(){return Array.from({length:this.endValue.year-this.startValue.year+1},(t,e)=>({label:(this.startValue.year+e).toString(),value:(this.startValue.year+e).toString()}))}get months(){const t=[];for(let e=1;e<=12;++e){const s=this.vyear[0]+e.toString().padStart(2,"0");t.push({label:this.l("m"+e.toString()),value:e.toString(),disabled:s>this.endYm||s<this.startYm})}return t}refreshView(){const t=new Date(Date.UTC(parseInt(this.vyear[0]),parseInt(this.vmonth[0])-1,1)),e=t.getUTCDay();e>0&&t.setUTCDate(1-e),this.maps.length=0;const s=60*this.tzData*6e4;for(let e=0;e<6;++e)this.maps[e]=Array.from({length:7},()=>{const e={time:t.getTime()-s,date:t.getUTCDate(),month:t.getUTCMonth(),year:t.getUTCFullYear(),day:t.getUTCDay(),str:`${t.getUTCFullYear()}${(t.getUTCMonth()+1).toString().padStart(2,"0")}${t.getUTCDate().toString().padStart(2,"0")}`};return t.setUTCDate(t.getUTCDate()+1),e})}refreshDateValue(){this.dateValue.date=this.dateObj.getUTCDate(),this.dateValue.month=this.dateObj.getUTCMonth(),this.dateValue.year=this.dateObj.getUTCFullYear()}updateTimestamp(){const t=void 0===this.props.modelValue?void 0:this.propNumber("modelValue");if(void 0!==this.timestamp){if(this.timestamp=this.dateObj.getTime()-60*this.tzData*6e4,t!==this.timestamp){const e={detail:{before:t,value:this.timestamp}};this.emit("update:modelValue",this.timestamp),this.emit("changed",e)}}else if(void 0!==t){const e={detail:{before:t,value:void 0}};this.emit("changed",e)}}goSelected(){let t=!1;if(parseInt(this.vyear[0])!==this.dateValue.year&&(this.vyear[0]=this.dateValue.year.toString(),t=!0),parseInt(this.vmonth[0])-1!==this.dateValue.month&&(this.vmonth[0]=(this.dateValue.month+1).toString(),t=!0),t){const t=`${this.vyear[0]}${this.vmonth[0].padStart(2,"0")}`;this.props.yearmonth!==t&&(this.emit("update:yearmonth",t),this.emit("yearmonthchanged"))}}colClick(t){if(void 0===this.rangeDate&&void 0!==this.timestamp&&this.propBoolean("range")){const e=t.year.toString()+(t.month+1).toString().padStart(2,"0")+t.date.toString().padStart(2,"0");if(e===this.dateValueStr){const e=new Date(Date.UTC(t.year,t.month,t.date,23,59,59,0)),s={go:!0,preventDefault:function(){this.go=!1},detail:{start:this.timestamp,end:e.getTime()-60*this.tzData*6e4}};return this.emit("range",s),void(s.go&&(this.rangeDate=e))}if(e>this.dateValueStr){const e=parseInt(this.vhour[0]??"00"),s=parseInt(this.vminute[0]??"00"),a=parseInt(this.vseconds[0]??"00"),i=new Date(this.dateObj.getTime());23===e&&59===s&&59===a&&i.setUTCHours(0,0,0,0);const r=new Date(Date.UTC(t.year,t.month,t.date,e,s,a,0));0===e&&0===s&&0===a&&r.setUTCHours(23,59,59,0);const h={go:!0,preventDefault:function(){this.go=!1},detail:{start:i.getTime()-60*this.tzData*6e4,end:r.getTime()-60*this.tzData*6e4}};return this.emit("range",h),void(h.go&&(this.rangeDate=r))}}this.rangeDate=void 0,""!==this.cursorDate&&(this.cursorDate="",this.emit("update:cursor",this.cursorDate)),this.timestamp=0,this.dateObj.setUTCFullYear(t.year,t.month,t.date),this.dateObj.setUTCHours(parseInt(this.vhour[0]??"00"),parseInt(this.vminute[0]??"00"),parseInt(this.vseconds[0]??"00"),0),this.refreshDateValue(),this.updateTimestamp(),this.goSelected();const e={detail:{time:t.time,date:t.date,month:t.month,year:t.year,day:t.day,str:t.str}};this.emit("selected",e)}today(){this.timestamp=0;const t=new Date;this.dateObj.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),this.refreshDateValue(),this.updateTimestamp(),this.goSelected()}back(){this.vyear[0]=this.dateValue.year.toString(),this.vmonth[0]=(this.dateValue.month+1).toString(),this.emit("update:yearmonth",this.vyear[0]+this.vmonth[0].padStart(2,"0")),this.emit("yearmonthchanged")}prev(){const t=parseInt(this.vmonth[0]);if(1===t){const t=parseInt(this.vyear[0]);return this.vyear[0]=(t-1).toString(),void(this.vmonth[0]="12")}this.vmonth[0]=(t-1).toString()}next(){const t=parseInt(this.vmonth[0]);if(12===t){const t=parseInt(this.vyear[0]);return this.vyear[0]=(t+1).toString(),void(this.vmonth[0]="1")}this.vmonth[0]=(t+1).toString()}onMounted(){this.watch("start",()=>{void 0===this.props.start?(this.startDate.setUTCFullYear(1900,0,1),this.startDate.setUTCHours(0,0,0,0),this.startTs=this.startDate.getTime(),this.startDate.setTime(this.startTs+60*this.tzData*60*1e3),this.startDate.setMilliseconds(0)):(this.startTs=this.propNumber("start"),this.startTs.toString().length<13&&(this.startTs*=1e3),this.startDate.setTime(this.startTs+60*this.tzData*60*1e3),this.startDate.setMilliseconds(0)),this.refreshStartValue(),void 0!==this.timestamp&&this.timestamp<this.startTs&&(this.dateObj.setTime(this.startDate.getTime()),this.refreshDateValue(),this.updateTimestamp())},{immediate:!0}),this.watch("end",()=>{void 0===this.props.end?(this.endDate.setTime(Date.now()),this.endDate.setUTCFullYear(this.endDate.getUTCFullYear()+100),this.endDate.setUTCHours(23,59,59,0),this.endTs=this.endDate.getTime(),this.endDate.setTime(this.endTs+60*this.tzData*60*1e3),this.endDate.setMilliseconds(0)):(this.endTs=this.propNumber("end"),this.endTs.toString().length<13&&(this.endTs*=1e3),this.endDate.setTime(this.endTs+60*this.tzData*60*1e3),this.endDate.setMilliseconds(0)),this.refreshEndValue(),void 0!==this.timestamp&&this.timestamp>this.endTs&&(this.dateObj.setTime(this.endDate.getTime()),this.refreshDateValue(),this.updateTimestamp())},{immediate:!0});for(let t=0;t<=23;++t)this.hours.push(t.toString().padStart(2,"0"));for(let t=0;t<=59;++t)this.minutes.push(t.toString().padStart(2,"0"));for(let t=0;t<=59;++t)this.seconds.push(t.toString().padStart(2,"0"));for(let t=-12;t<=14;++t)this.zones.push((t>=0?"+":"")+t.toString());this.prevNextDate.setUTCHours(0,0,0,0),this.watch(()=>this.vyear[0]+"-"+this.vmonth[0],()=>{if(!this.vyear[0]||!this.vmonth[0])return;this.prevNextDate.setUTCFullYear(parseInt(this.vyear[0]),parseInt(this.vmonth[0])-2,1),this.prevYm=this.prevNextDate.getUTCFullYear().toString()+(this.prevNextDate.getUTCMonth()+1).toString().padStart(2,"0"),this.prevNextDate.setUTCFullYear(parseInt(this.vyear[0]),parseInt(this.vmonth[0]),1),this.nextYm=this.prevNextDate.getUTCFullYear().toString()+(this.prevNextDate.getUTCMonth()+1).toString().padStart(2,"0");const t=this.vyear[0]+this.vmonth[0].padStart(2,"0");this.props.yearmonth!==t&&(this.emit("update:yearmonth",t),this.emit("yearmonthchanged")),this.refreshView()}),this.watch(()=>(this.vhour[0]??"")+":"+(this.vminute[0]??"")+":"+(this.vseconds[0]??""),()=>{if(!this.vhour[0]||!this.vminute[0]||!this.vseconds[0])return;const t=this.vhour[0]+this.vminute[0]+this.vseconds[0];this.props.hourminute!==t&&this.emit("update:hourminute",t),this.dateObj.setUTCHours(parseInt(this.vhour[0]),parseInt(this.vminute[0]),parseInt(this.vseconds[0])),this.updateTimestamp()}),this.watch(()=>this.vzone[0]+" "+this.vzdec[0],()=>{if(!this.vzone[0]||!this.vzdec[0])return;const t=parseInt(this.vzone[0]);this.tzData=t>=0?t+parseInt(this.vzdec[0])/60:t-parseInt(this.vzdec[0])/60,this.emit("update:tz",this.tzData),this.updateTimestamp(),this.startDate.setTime(this.startTs+60*this.tzData*60*1e3),this.startDate.setMilliseconds(0),this.refreshStartValue(),this.endDate.setTime(this.endTs+60*this.tzData*60*1e3),this.endDate.setMilliseconds(0),this.refreshEndValue()}),this.watch("tz",()=>{if(void 0===this.props.tz)this.tzData=-this.dateObj.getTimezoneOffset()/60,this.emit("update:tz",this.tzData);else{if(this.tzData===this.propNumber("tz"))return;this.tzData=this.propNumber("tz")}const t=this.tzData.toString().split(".");this.vzone[0]=(parseInt(t[0])>=0?"+":"")+t[0],this.vzdec[0]=t[1]?(60*parseFloat("0."+t[1])).toString():"00",this.updateTimestamp(),this.startDate.setTime(this.startTs+60*this.tzData*60*1e3),this.startDate.setMilliseconds(0),this.refreshStartValue(),this.endDate.setTime(this.endTs+60*this.tzData*60*1e3),this.endDate.setMilliseconds(0),this.refreshEndValue()},{immediate:!0}),this.watch("cursor",()=>{this.cursorDate=this.props.cursor},{immediate:!0});let t=!0;this.watch("modelValue",()=>{if(void 0!==this.props.modelValue){if(this.timestamp=this.propNumber("modelValue"),this.dateObj.setTime(this.timestamp+60*this.tzData*60*1e3),this.dateObj.setMilliseconds(0),this.vhour[0]=this.dateObj.getUTCHours().toString().padStart(2,"0"),this.vminute[0]=this.dateObj.getUTCMinutes().toString().padStart(2,"0"),this.vseconds[0]=this.dateObj.getUTCSeconds().toString().padStart(2,"0"),this.propBoolean("jump")&&(this.vyear[0]=this.dateObj.getUTCFullYear().toString(),this.vmonth[0]=(this.dateObj.getUTCMonth()+1).toString(),this.refreshDateValue(),!t)){const t=this.vyear[0]+this.vmonth[0].padStart(2,"0");this.props.yearmonth!==t&&(this.emit("update:yearmonth",t),this.emit("yearmonthchanged"))}const e=this.vhour[0]+this.vminute[0]+this.vseconds[0];this.props.hourminute!==e&&this.emit("update:hourminute",e)}else if(this.timestamp=void 0,t){const t=new Date;this.vyear[0]=t.getFullYear().toString(),this.vmonth[0]=(t.getMonth()+1).toString(),this.vhour[0]="00",this.vminute[0]="00",this.vseconds[0]="00"}t=!1},{immediate:!0}),this.watch("yearmonth",()=>{if(!this.props.yearmonth)return this.emit("update:yearmonth",this.vyear[0]+this.vmonth[0].padStart(2,"0")),void this.emit("yearmonthchanged");if(this.vyear[0]+this.vmonth[0].padStart(2,"0")!==this.props.yearmonth){this.vyear[0]=this.props.yearmonth.slice(0,4);let t=this.props.yearmonth.slice(4);t.startsWith("0")&&(t=t[1]),this.vmonth[0]=t}},{immediate:!0}),this.watch("hourminute",()=>{const t=this.vhour[0]+this.vminute[0]+this.vseconds[0];this.props.hourminute?this.props.hourminute!==t&&(this.vhour[0]=this.props.hourminute.slice(0,2),this.vminute[0]=this.props.hourminute.slice(2,4),this.vseconds[0]=this.props.hourminute.slice(4)):this.emit("update:hourminute",t)},{immediate:!0})}colenter(t,e){s.dom.hasTouchButMouse(t)||this.propBoolean("range")&&(this.rangeDate||(this.cursorDate=e.year.toString()+(e.month+1).toString().padStart(2,"0")+e.date.toString().padStart(2,"0"),this.emit("update:cursor",this.cursorDate)))}get isDisabled(){return t=>{const e=t.year.toString()+(t.month+1).toString().padStart(2,"0")+t.date.toString().padStart(2,"0");return this.propArray("disabledList").length&&this.propArray("disabledList").includes(e)||e>this.endYmd||e<this.startYmd?"":void 0}}get toclass(){return t=>{if(!this.propBoolean("range")||""===this.cursorDate||void 0===this.timestamp)return;const e=t.year.toString()+(t.month+1).toString().padStart(2,"0")+t.date.toString().padStart(2,"0");return this.cursorDate<=this.dateValueStr||e>this.cursorDate||e<this.dateValueStr?void 0:e===this.cursorDate?"range-left":e===this.dateValueStr?"range-right":"range"}}clear(){const t={detail:{before:this.timestamp,value:void 0}};this.timestamp=void 0,this.emit("update:modelValue",void 0),this.rangeDate=void 0,this.emit("changed",t),""!==this.cursorDate&&(this.cursorDate="",this.emit("update:cursor",""))}}return a}(clickgo.modules.clickgo);