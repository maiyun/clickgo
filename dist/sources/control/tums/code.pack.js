var emodule=function(s){"use strict";function t(s){var t=Object.create(null);return s&&Object.keys(s).forEach(function(i){if("default"!==i){var e=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(t,i,e.get?e:{enumerable:!0,get:function(){return s[i]}})}}),t.default=s,Object.freeze(t)}var i=t(s);class e extends i.control.AbstractControl{get filename(){return"/code.js"}constructor(){super(...arguments),this.emits={init:null,playing:null,disconnected:null},this.props={init:{type:"relay",url:"",stream:"video",volume:80,sid:"",skey:""},volume:80},this.access={tums:void 0,instance:void 0},this.notInit=!1,this.isLoading=!1}async onMounted(){const s=await i.core.getModule("tums-player");if(!s)return this.isLoading=!1,void(this.notInit=!0);this.access.tums=s,this.watch(()=>JSON.stringify(this.props.init),(s,t)=>{if(s!==t)return this.access.instance?(this.access.instance.destroy(),void(this.access.instance=void 0)):void(this.props.init.url&&this.props.init.sid&&this.props.init.skey&&(this.access.instance=new this.access.tums.default(this.refs.content,{type:this.props.init.type??"relay",url:this.props.init.url,pluginPath:i.getDirname()+"/ext",volume:this.props.init.volume,autoplay:!0,appKey:this.props.init.sid,appSecret:this.props.init.skey}),this.access.instance.on("playing",()=>{this.emit("playing")}),this.access.instance.on("disconnected",()=>{this.emit("disconnected")})))},{deep:!0,immediate:!0}),this.watch("volume",s=>{this.access.instance&&this.access.instance.setVolume(s)}),this.isLoading=!1,this.emit("init",{tums:this.access.tums,instance:this.access.instance})}onUnmounted(){this.access.instance&&this.access.instance.destroy()}start(){this.access.instance&&this.access.instance.start()}stop(){this.access.instance&&this.access.instance.stop()}pause(){this.access.instance&&this.access.instance.pause()}play(){this.access.instance&&this.access.instance.play()}}return e}(clickgo.modules.clickgo);