var emodule=function(s){"use strict";function t(s){var t=Object.create(null);return s&&Object.keys(s).forEach(function(e){if("default"!==e){var i=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,i.get?i:{enumerable:!0,get:function(){return s[e]}})}}),t.default=s,Object.freeze(t)}var e=t(s);class i extends e.control.AbstractControl{get filename(){return"/code.js"}emits={init:null,playing:null,disconnected:null};props={init:{type:"relay",url:"",stream:"video",volume:80,sid:"",skey:""},volume:80};access={tums:void 0,instance:void 0};notInit=!1;isLoading=!1;async onMounted(){const s=await e.core.getModule("tums-player");if(!s)return this.isLoading=!1,void(this.notInit=!0);this.access.tums=s,this.watch(()=>JSON.stringify(this.props.init),(s,t)=>{if(s!==t)return this.access.instance?(this.access.instance.destroy(),void(this.access.instance=void 0)):void(this.props.init.url&&this.props.init.sid&&this.props.init.skey&&(this.access.instance=new this.access.tums.default(this.refs.content,{type:this.props.init.type??"relay",url:this.props.init.url,pluginPath:e.getDirname()+"/ext",volume:this.props.init.volume,autoplay:!0,appKey:this.props.init.sid,appSecret:this.props.init.skey}),this.access.instance.on("playing",()=>{this.emit("playing")}),this.access.instance.on("disconnected",()=>{this.emit("disconnected")})))},{deep:!0,immediate:!0}),this.watch("volume",s=>{this.access.instance&&this.access.instance.setVolume(s)}),this.isLoading=!1,this.emit("init",{tums:this.access.tums,instance:this.access.instance})}onUnmounted(){this.access.instance&&this.access.instance.destroy()}start(){this.access.instance&&this.access.instance.start()}stop(){this.access.instance&&this.access.instance.stop()}pause(){this.access.instance&&this.access.instance.pause()}play(){this.access.instance&&this.access.instance.play()}}return i}(clickgo.modules.clickgo);