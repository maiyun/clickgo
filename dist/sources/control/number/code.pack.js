var emodule=function(e){"use strict";function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(i){if("default"!==i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}}),t.default=e,Object.freeze(t)}var i=t(e);class a extends i.control.AbstractControl{get filename(){return"/code.js"}constructor(){super(...arguments),this.emits={focus:null,blur:null,enter:null,beforechange:null,minmaxchange:null,changed:null,"update:modelValue":null},this.props={disabled:!1,readonly:!1,plain:!1,require:!1,modelValue:"",placeholder:"",max:void 0,min:void 0},this.isFocus=!1,this.value="",this.localeData={en:{copy:"Copy",cut:"Cut",paste:"Paste"},sc:{copy:"复制",cut:"剪下",paste:"粘上"},tc:{copy:"複製",cut:"剪貼",paste:"貼上"},ja:{copy:"コピー",cut:"切り取り",paste:"貼り付け"},ko:{copy:"복사",cut:"잘라내기",paste:"붙여넣기"},th:{copy:"คัดลอก",cut:"ตัด",paste:"วาง"},es:{copy:"Copiar",cut:"Cortar",paste:"Pegar"},de:{copy:"Kopieren",cut:"Ausschneiden",paste:"Einfügen"},fr:{copy:"Copier",cut:"Couper",paste:"Coller"},pt:{copy:"Copiar",cut:"Recortar",paste:"Colar"},ru:{copy:"Копировать",cut:"Вырезать",paste:"Вставить"},vi:{copy:"Sao chép",cut:"Cắt",paste:"Dán"}},this.dangerBorder=!1}focus(){this.refs.text.focus()}down(e){i.dom.hasTouchButMouse(e)||void 0!==this.element.dataset.cgPopOpen&&i.form.hidePop()}tfocus(){this.isFocus=!0,this.emit("focus"),this.dangerBorder&&(this.dangerBorder=!1)}tblur(e){const t=e.target;if(this.checkNumber(t)){const e={go:!0,preventDefault:function(){this.go=!1},detail:{before:this.value,value:t.value}};if(this.emit("minmaxchange",e),e.go){const e={go:!0,preventDefault:function(){this.go=!1},detail:{value:t.value,change:void 0}};this.emit("beforechange",e),e.go?(void 0!==e.detail.change&&(t.value=e.detail.change),this.value=t.value,this.emit("update:modelValue",this.value),this.emit("changed")):t.value=this.value}else t.value=this.value}this.isFocus=!1,this.emit("blur"),this.check()}input(e){const t=e.target,i={go:!0,preventDefault:function(){this.go=!1},detail:{value:t.value,change:void 0}};this.emit("beforechange",i),i.go?(void 0!==i.detail.change&&(t.value=i.detail.change),this.value=t.value,this.emit("update:modelValue",this.value),this.emit("changed")):t.value=this.value}checkNumber(e){e??=this.refs.text;let t=!1;if(!e.value&&this.value&&(t=!0),e.value){const i=parseFloat(e.value);void 0!==this.props.max&&"undefined"!==this.props.max&&i>this.propNumber("max")&&(e.value=this.propNumber("max").toString(),t=!0),void 0!==this.props.min&&"undefined"!==this.props.min&&i<this.propNumber("min")&&(e.value=this.propNumber("min").toString(),t=!0)}return t}inputTouch(e){navigator.clipboard&&i.dom.bindLong(e,()=>{i.form.showPop(this.element,this.refs.pop,e)})}contextmenu(e){navigator.clipboard?i.dom.hasTouchButMouse(e)||i.form.showPop(this.element,this.refs.pop,e):e.stopPropagation()}select(e){e.stopPropagation()}udDown(e){e.preventDefault(),this.isFocus||this.refs.text.focus()}numberClick(e){this.value||(this.value="0");const t=(parseFloat(this.value)+e).toString(),i={go:!0,preventDefault:function(){this.go=!1},detail:{value:t,change:void 0}};this.emit("beforechange",i),i.go&&(this.value=i.detail.change??t,this.emit("update:modelValue",this.value),this.emit("changed"))}async execCmd(e){if(this.refs.text.focus(),"paste"===e){if(this.propBoolean("readonly"))return;const e=await navigator.clipboard.readText(),t={go:!0,preventDefault:function(){this.go=!1},detail:{value:e,change:void 0}};if(this.emit("beforechange",t),!t.go)return;this.value=t.detail.change??e,this.emit("update:modelValue",this.value),this.emit("changed")}else i.tool.execCommand(e)}keydown(e){"Enter"===e.key&&this.emit("enter")}check(){return!(this.propBoolean("require")&&!this.value)||(this.dangerBorder=!0,!1)}onMounted(){this.watch("modelValue",async()=>{if(this.value===this.props.modelValue)return;if(this.dangerBorder&&(this.dangerBorder=!1),this.value=this.props.modelValue,await this.nextTick(),this.checkNumber(),this.refs.text.value===this.value)return void this.check();const e={go:!0,preventDefault:function(){this.go=!1},detail:{value:this.refs.text.value,change:void 0}};if(this.emit("beforechange",e),!e.go)return this.check(),void(this.refs.text.value=this.value);this.value=e.detail.change??this.refs.text.value,this.emit("update:modelValue",this.value),this.emit("changed"),this.check()},{immediate:!0}),this.watch("max",async()=>{if(await this.nextTick(),this.checkNumber()){const e={go:!0,preventDefault:function(){this.go=!1},detail:{before:this.value,value:this.refs.text.value}};if(this.emit("minmaxchange",e),!e.go)return void(this.refs.text.value=this.value);const t={go:!0,preventDefault:function(){this.go=!1},detail:{value:this.value,change:void 0}};if(this.emit("beforechange",t),!t.go)return void(this.refs.text.value=this.value);this.value=t.detail.change??this.refs.text.value,this.emit("update:modelValue",this.value),this.emit("changed")}}),this.watch("min",async()=>{if(await this.nextTick(),this.checkNumber()){const e={go:!0,preventDefault:function(){this.go=!1},detail:{before:this.value,value:this.refs.text.value}};if(this.emit("minmaxchange",e),!e.go)return void(this.refs.text.value=this.value);const t={go:!0,preventDefault:function(){this.go=!1},detail:{value:this.value,change:void 0}};if(this.emit("beforechange",t),!t.go)return void(this.refs.text.value=this.value);this.value=t.detail.change??this.refs.text.value,this.emit("update:modelValue",this.value),this.emit("changed")}});const e=this.parentByName("content");e&&this.watch("require",()=>{this.propBoolean("require")?e.controls.push(this):e.remove(this)},{immediate:!0})}}return a}(clickgo.modules.clickgo);