var emodule=function(t){"use strict";function e(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}}),e.default=t,Object.freeze(e)}var i=e(t);class s extends i.control.AbstractControl{get filename(){return"/code.js"}constructor(){super(...arguments),this.props={direction:"left",speed:1},this.padding="",this.left=0,this.top=0,this.client=0,this.length=0,this.timer=0,this.ani=!1}get opMargin(){return this.padding.replace(/(\w+)/g,"-$1")}get speedPx(){return.8*this.propInt("speed")}refresh(){if(this.ani=!1,0!==this.length&&0!==this.client){if(!(this.length>this.client)){if(0===this.timer)return;return i.task.offFrame(this,this.timer),this.timer=0,this.left=0,void(this.top=0)}if(!(this.timer>0)){switch(this.props.direction){case"left":case"top":this.left=0,this.top=0;break;case"right":this.left=-(this.length-this.client),this.top=0;break;case"bottom":this.left=0,this.top=-(this.length-this.client)}i.task.sleep(this,()=>{this.length<=this.client||this.timer>0||(this.timer=i.task.onFrame(this,async()=>{if(!i.dom.inPage(this.element))return i.task.offFrame(this,this.timer),void(this.timer=0);const t=this.length-this.client;switch(this.props.direction){case"left":this.left===-t?(this.left=0,i.task.sleep(this,()=>{this.ani=!1},150),await i.tool.sleep(1e3)):(this.left-=this.speedPx,this.left<-t&&(this.left=-t,this.ani=!0,await i.tool.sleep(1e3)));break;case"right":0===this.left?(this.left=-t,i.task.sleep(this,()=>{this.ani=!1},150),await i.tool.sleep(1e3)):(this.left+=this.speedPx,this.left>0&&(this.left=0,this.ani=!0,await i.tool.sleep(1e3)));break;case"top":this.top===-t?(this.top=0,i.task.sleep(this,()=>{this.ani=!1},150),await i.tool.sleep(1e3)):(this.top-=this.speedPx,this.top<-t&&(this.top=-t,this.ani=!0,await i.tool.sleep(1e3)));break;case"bottom":0===this.top?(this.top=-t,i.task.sleep(this,()=>{this.ani=!1},150),await i.tool.sleep(1e3)):(this.top+=this.speedPx,this.top>0&&(this.top=0,this.ani=!0,await i.tool.sleep(1e3)))}},{formId:this.formId}))},1e3)}}}onMounted(){this.watch("direction",(t,e)=>{if(0===this.timer)return;const i="left"===t||"right"===t?"h":"v";i!==("left"===e||"right"===e?"h":"v")&&("v"===i?this.left=0:this.top=0)}),i.dom.watchStyle(this.element,"padding",(t,e)=>{this.padding=e},!0),i.dom.watchSize(this,this.element,()=>{const t="left"===this.props.direction||"right"===this.props.direction?this.element.offsetWidth:this.element.offsetHeight;t!==this.client&&(this.client=t,this.refresh())},!0),i.dom.watchSize(this,this.refs.inner,()=>{const t="left"===this.props.direction||"right"===this.props.direction?this.refs.inner.offsetWidth:this.refs.inner.offsetHeight;t!==this.length&&(this.length=t,this.refresh())},!0)}}return s}(clickgo.modules.clickgo);