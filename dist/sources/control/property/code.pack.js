var emodule=function(e){"use strict";function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(s){if("default"!==s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}}),t.default=e,Object.freeze(t)}var s=t(e);class i extends s.control.AbstractControl{get filename(){return"/code.js"}emits={"update:sort":null,"update:type":null,"update:modelValue":null};props={disabled:!1,sort:"kind",type:"property",desc:!0,modelValue:[]};direction="h";localeData={en:{reset:"Reset",description:"Description"},sc:{reset:"重置",description:"说明"},tc:{reset:"重置",description:"說明"},ja:{reset:"リセット",description:"説明"},ko:{reset:"재설정",description:"설명"},th:{reset:"รีเซ็ต",description:"คำอธิบาย"},es:{reset:"Reiniciar",description:"Descripción"},de:{reset:"Zurücksetzen",description:"Beschreibung"},fr:{reset:"Réinitialiser",description:"Description"},pt:{reset:"Redefinir",description:"Descrição"},ru:{reset:"Сбросить",description:"Описание"},vi:{reset:"Đặt lại",description:"Mô tả"}};sortData="kind";typeData="property";descData=!0;selectedTitle="";selectedSub="";bigClosed=[];opened=[];title="";description="";dockValue="";get subValue(){return(e,t,s=!1)=>s?e.default.split(",")[t]?e.default.split(",")[t].trim():"":e.value.split(",")[t]?e.value.split(",")[t].trim():""}get value(){const e=[],t={},s=[];for(const e of this.props.modelValue){const i="letter"===this.sortData?"":e.kind,o=e.type??"property";o===this.typeData&&(t[i]||(t[i]={list:{},title:[]},s.push(i)),t[i].list[e.title]={kind:e.kind,title:e.title,desc:e.desc??"",type:o,control:e.control??"text",default:e.default??"",value:e.value??"",data:e.data,sub:e.sub},t[i].title.push(e.title))}for(const i of s){e.push({title:i,list:[]});const s=e.length-1;t[i].title.sort();for(const o of t[i].title)e[s].list.push(t[i].list[o])}return e}down(e){void 0!==this.refs.content.dataset.cgPopOpen&&s.form.hidePop(this.refs.content),s.modules.pointer.menu(e,()=>{s.form.showPop(this.refs.content,this.refs.pop,e)})}changeSort(e){this.sortData=e,this.emit("update:sort",e)}changeType(e){this.typeData=e,this.emit("update:type",e)}select(e,t,s){this.selectedTitle=e,this.selectedSub=t,this.title=t??e,this.description=s}bigToggle(e){const t=this.bigClosed.indexOf(e);-1!==t?this.bigClosed.splice(t,1):this.bigClosed.push(e)}toggle(e){const t=this.opened.indexOf(e);-1!==t?this.opened.splice(t,1):this.opened.push(e)}update(e){for(const t of this.props.modelValue)if(t.title===this.selectedTitle)if(this.selectedSub){const s=t.value.split(",");for(let e=0;e<s.length;++e)"string"==typeof s[e]&&(s[e]=s[e].trim());for(let i=0;i<t.sub.length;++i){if(t.sub[i].title!==this.selectedSub)continue;this.subValue(t,i)!==e&&(s[i]=e,t.value=s.join(", "),this.emit("update:modelValue",this.props.modelValue))}}else{if(t.value===e)continue;t.value=e,this.emit("update:modelValue",this.props.modelValue)}}dock(e){if(void 0===e.currentTarget.dataset.cgPopOpen){for(const e of this.props.modelValue)if(e.title===this.selectedTitle)if(this.selectedSub)for(let t=0;t<e.sub.length;++t){e.sub[t].title===this.selectedSub&&(this.dockValue=this.subValue(e,t))}else this.dockValue=e.value;s.form.showPop(e.currentTarget,this.refs.dock,"v")}else s.form.hidePop()}dockSelect(e){this.update(e),s.form.hidePop()}reset(e){const t=()=>{for(const e of this.props.modelValue)if(e.title===this.selectedTitle)if(this.selectedSub){const t=e.value.split(",");for(let e=0;e<t.length;++e)"string"==typeof t[e]&&(t[e]=t[e].trim());for(let s=0;s<e.sub.length;++s){if(e.sub[s].title!==this.selectedSub)continue;const i=this.subValue(e,s),o=this.subValue(e,s,!0);i!==o&&(t[s]=o,e.value=t.join(", "),this.emit("update:modelValue",this.props.modelValue))}}else{if(e.value===e.default)continue;e.value=e.default,this.emit("update:modelValue",this.props.modelValue)}};e?s.modules.pointer.dblClick(e,t):t()}onMounted(){this.watch("sort",()=>{this.sortData=this.props.sort},{immediate:!0}),this.watch("type",()=>{this.typeData=this.props.type},{immediate:!0}),this.watch("desc",()=>{this.descData=this.propBoolean("desc")},{immediate:!0})}}return i}(clickgo.modules.clickgo);