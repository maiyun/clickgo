var emodule=function(t){"use strict";function e(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(s){if("default"!==s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}}),e.default=t,Object.freeze(e)}var s=e(t);class i extends s.control.AbstractControl{get filename(){return"/code.js"}constructor(){super(...arguments),this.emits={"update:sort":null,"update:type":null,"update:modelValue":null},this.props={disabled:!1,sort:"kind",type:"property",desc:!0,modelValue:[]},this.direction="h",this.localeData={en:{reset:"Reset",description:"Description"},sc:{reset:"重置",description:"说明"},tc:{reset:"重置",description:"說明"},ja:{reset:"リセット",description:"説明"},ko:{reset:"재설정",description:"설명"},th:{reset:"รีเซ็ต",description:"คำอธิบาย"},es:{reset:"Reiniciar",description:"Descripción"},de:{reset:"Zurücksetzen",description:"Beschreibung"},fr:{reset:"Réinitialiser",description:"Description"},pt:{reset:"Redefinir",description:"Descrição"},ru:{reset:"Сбросить",description:"Описание"},vi:{reset:"Đặt lại",description:"Mô tả"}},this.sortData="kind",this.typeData="property",this.descData=!0,this.selectedTitle="",this.selectedSub="",this.bigClosed=[],this.opened=[],this.title="",this.description="",this.dockValue=""}get subValue(){return(t,e,s=!1)=>s?t.default.split(",")[e]?t.default.split(",")[e].trim():"":t.value.split(",")[e]?t.value.split(",")[e].trim():""}get value(){const t=[],e={},s=[];for(const t of this.props.modelValue){const i="letter"===this.sortData?"":t.kind,o=t.type??"property";o===this.typeData&&(e[i]||(e[i]={list:{},title:[]},s.push(i)),e[i].list[t.title]={kind:t.kind,title:t.title,desc:t.desc??"",type:o,control:t.control??"text",default:t.default??"",value:t.value??"",data:t.data,sub:t.sub},e[i].title.push(t.title))}for(const i of s){t.push({title:i,list:[]});const s=t.length-1;e[i].title.sort();for(const o of e[i].title)t[s].list.push(e[i].list[o])}return t}contextmenu(t){s.dom.hasTouchButMouse(t)||s.form.showPop(this.refs.content,this.refs.pop,t)}down(t){s.dom.hasTouchButMouse(t)||(void 0!==this.refs.content.dataset.cgPopOpen&&s.form.hidePop(this.refs.content),t instanceof TouchEvent&&s.dom.bindLong(t,()=>{s.form.showPop(this.refs.content,this.refs.pop,t)}))}changeSort(t){this.sortData=t,this.emit("update:sort",t)}changeType(t){this.typeData=t,this.emit("update:type",t)}select(t,e,i,o){s.dom.hasTouchButMouse(t)||(this.selectedTitle=e,this.selectedSub=i,this.title=i??e,this.description=o)}bigToggle(t){const e=this.bigClosed.indexOf(t);-1!==e?this.bigClosed.splice(e,1):this.bigClosed.push(t)}toggle(t){const e=this.opened.indexOf(t);-1!==e?this.opened.splice(e,1):this.opened.push(t)}update(t){for(const e of this.props.modelValue)if(e.title===this.selectedTitle)if(this.selectedSub){const s=e.value.split(",");for(let t=0;t<s.length;++t)"string"==typeof s[t]&&(s[t]=s[t].trim());for(let i=0;i<e.sub.length;++i){if(e.sub[i].title!==this.selectedSub)continue;this.subValue(e,i)!==t&&(s[i]=t,e.value=s.join(", "),this.emit("update:modelValue",this.props.modelValue))}}else{if(e.value===t)continue;e.value=t,this.emit("update:modelValue",this.props.modelValue)}}dock(t){if(void 0===t.currentTarget.dataset.cgPopOpen){for(const t of this.props.modelValue)if(t.title===this.selectedTitle)if(this.selectedSub)for(let e=0;e<t.sub.length;++e){t.sub[e].title===this.selectedSub&&(this.dockValue=this.subValue(t,e))}else this.dockValue=t.value;s.form.showPop(t.currentTarget,this.refs.dock,"v")}else s.form.hidePop()}dockSelect(t){this.update(t),s.form.hidePop()}reset(t){const e=()=>{for(const t of this.props.modelValue)if(t.title===this.selectedTitle)if(this.selectedSub){const e=t.value.split(",");for(let t=0;t<e.length;++t)"string"==typeof e[t]&&(e[t]=e[t].trim());for(let s=0;s<t.sub.length;++s){if(t.sub[s].title!==this.selectedSub)continue;const i=this.subValue(t,s),o=this.subValue(t,s,!0);i!==o&&(e[s]=o,t.value=e.join(", "),this.emit("update:modelValue",this.props.modelValue))}}else{if(t.value===t.default)continue;t.value=t.default,this.emit("update:modelValue",this.props.modelValue)}};t?s.dom.bindDblClick(t,e):e()}onMounted(){this.watch("sort",()=>{this.sortData=this.props.sort},{immediate:!0}),this.watch("type",()=>{this.typeData=this.props.type},{immediate:!0}),this.watch("desc",()=>{this.descData=this.propBoolean("desc")},{immediate:!0})}}return i}(clickgo.modules.clickgo);