<div class="wrap" :class="[direction, isSame && 'same']">
    <cg-view ref="view" :direction="direction" :scrollLeft="scrollLeft" @update:scrollLeft="updateScrollOffset($event, 'left')" :scrollTop="scrollTop" @update:scrollTop="updateScrollOffset($event, 'top')" :content="content" :solo="isSolo" :selection="isSelection" @beforeselect="$emit('beforeselect')" @select="onSelect($event)" @afterselect="$emit('afterselect')" @resize="onResize($event)" @resizen="onResizen($event)" @change="onChange($event)" :style="{'max-width': 'calc(100% + ' + (paddingChild.left + paddingChild.right) + 'px)', 'max-height': 'calc(100% + ' + (paddingChild.top + paddingChild.bottom) + 'px)', 'margin': opMargin}">
        <div class="place" :style="{'width': lengthWidth + 'px', 'height': lengthHeight + 'px'}"></div>
        <div ref="comp" class="comp" :class="[direction]" :style="{'padding': padding, 'width': content ? content + '-content' : undefined, 'height': content ? content + '-content' : undefined}">
            <div v-for="item of needItemsComp" :data-cursor="item">
                <slot v-if="dataComp[item]" :row="dataComp[item]" :index="item"></slot>
            </div>
        </div>
        <!-- 不用 v-if 因为有效率问题，vue 会生成很多注释 DOM -->
        <div v-for="index of (showPos.end - showPos.start + 1)" class="item" :class="[direction]" :style="itemStyle(showPos.start + index - 1)">
            <slot v-if="dataComp[showPos.start + index - 1]" :row="dataComp[showPos.start + index - 1]" :index="showPos.start + index - 1"></slot>
        </div>
    </cg-view>
</div>