var emodule=function(t){"use strict";function e(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(s){if("default"!==s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}}),e.default=t,Object.freeze(e)}var s=e(t);class i extends s.control.AbstractControl{get filename(){return"/code.js"}constructor(){super(...arguments),this.emits={select:null,"update:show":null},this.props={label:"",name:"",icon:"",show:!1},this.showData=!1,this.isChild=!1,this.nav={}}get hasChild(){return!!this.slotsAll("default").length}get overName(){return""===this.props.name?this.props.label:this.props.name}get selected(){return this.nav.selected??""}get isSelected(){if(this.selected===this.overName)return!0;const t=this.selected.split("?"),e=this.overName.split("?");return t[0]===e[0]&&(!e[1]&&(!t[1]||!this.nav.childs.includes(this.selected)))}click(){if(!this.hasChild){if(this.isSelected)return;const t={go:!0,preventDefault:function(){this.go=!1},detail:{name:this.overName,selected:this.selected}};return this.emit("select",t),void(t.go&&this.nav.select(this.overName))}this.showData=!this.showData,this.emit("update:show",this.showData)}onMounted(){this.watch("show",()=>{this.hasChild&&(this.showData=this.propBoolean("show"))},{immediate:!0}),this.watch("showData",async()=>{this.hasChild&&(this.showData?(this.refs.menu.style.height=this.refs.menu.children[0].offsetHeight.toString()+"px",await s.tool.sleep(300),this.refs.menu.style.height=""):(this.refs.menu.style.height=this.refs.menu.offsetHeight.toString()+"px",await s.tool.sleep(50),this.refs.menu.style.height="0"))}),this.hasChild&&!this.showData&&(this.refs.menu.style.height="0"),this.parentByName("nav-item")&&(this.isChild=!0),this.watch("isSelected",()=>{if(!this.isSelected)return;let t=this.parentByName("nav-item");for(;t;)t.showData||(t.showData=!0,t.emit("update:show",t.showData)),t=t.parentByName("nav-item")}),this.watch("overName",(t,e)=>{const s=this.nav.childs.indexOf(e);this.nav.childs.splice(s,1),this.nav.childs.push(t)}),this.nav=this.parentByName("nav"),this.nav.childs.push(this.overName)}onUnmounted(){const t=this.nav.childs.indexOf(this.overName);this.nav.childs.splice(t,1)}}return i}(clickgo.modules.clickgo);