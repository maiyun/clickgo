var emodule=function(e){"use strict";function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(s){if("default"!==s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}}),t.default=e,Object.freeze(t)}var s=t(e);class i extends s.control.AbstractControl{get filename(){return"/code.js"}emits={select:null,"update:show":null};props={label:"",name:"",icon:"",show:!1};showData=!1;isChild=!1;nav={};get hasChild(){return!!this.slotsAll("default").length}get overName(){return""===this.props.name?this.props.label:this.props.name}get selected(){return this.nav.selected??""}get isSelected(){if(this.selected===this.overName)return!0;const e=this.selected.split("?"),t=this.overName.split("?");return e[0]===t[0]&&(!t[1]&&(!e[1]||!this.nav.childs.includes(this.selected)))}click(){if(!this.hasChild){if(this.isSelected)return;const e={go:!0,preventDefault:function(){this.go=!1},detail:{name:this.overName,selected:this.selected}};return this.emit("select",e),void(e.go&&this.nav.select(this.overName))}this.showData=!this.showData,this.emit("update:show",this.showData)}onMounted(){this.watch("show",()=>{this.hasChild&&(this.showData=this.propBoolean("show"))},{immediate:!0}),this.watch("showData",async()=>{this.hasChild&&(this.showData?(this.refs.menu.style.height=this.refs.menu.children[0].offsetHeight.toString()+"px",await s.tool.sleep(300),this.refs.menu.style.height=""):(this.refs.menu.style.height=this.refs.menu.offsetHeight.toString()+"px",await s.tool.sleep(50),this.refs.menu.style.height="0"))}),this.hasChild&&!this.showData&&(this.refs.menu.style.height="0"),this.parentByName("nav-item")&&(this.isChild=!0),this.watch("isSelected",()=>{if(!this.isSelected)return;let e=this.parentByName("nav-item");for(;e;)e.showData||(e.showData=!0,e.emit("update:show",e.showData)),e=e.parentByName("nav-item")}),this.watch("overName",(e,t)=>{const s=this.nav.childs.indexOf(t);this.nav.childs.splice(s,1),this.nav.childs.push(e)}),this.nav=this.parentByName("nav"),this.nav.childs.push(this.overName)}onUnmounted(){const e=this.nav.childs.indexOf(this.overName);this.nav.childs.splice(e,1)}}return i}(clickgo.modules.clickgo);