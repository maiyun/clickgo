var emodule=function(t){"use strict";function e(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}}),e.default=t,Object.freeze(e)}var i=e(t);class s extends i.control.AbstractControl{get filename(){return"/code.js"}constructor(){super(...arguments),this.emits={changed:null,yearmonthchanged:null,"update:modelValue":null,"update:tz":null,"update:yearmonth":null,"update:hourminute":null},this.props={disabled:!1,disabledList:[],modelValue:void 0,tz:void 0,yearmonth:"",hourminute:"",start:void 0,end:void 0,date:!0,time:!0,zone:!1,close:!0},this.dateObj=new Date,this.timestamp=void 0,this.dateStr="",this.timeStr="",this.tzData=0,this.vhour=[],this.hours=[],this.vminute=[],this.minutes=[],this.vseconds=[],this.seconds=[],this.vzone=[],this.zones=[],this.vzdec=[],this.zdecs=["00","15","30","45"],this.localeData={en:{hour:"Hr",minute:"Min",second:"Sec",zone:"Zone",cancel:"Cancel",ok:"OK","please click select":"Click to select"},sc:{hour:"时",minute:"分",second:"秒",zone:"时区",cancel:"取消",ok:"确定","please click select":"请点击选择"},tc:{hour:"時",minute:"分",second:"秒",zone:"時區",cancel:"取消",ok:"確定","please click select":"請點擊選擇"},ja:{hour:"時",minute:"分",second:"秒",zone:"時區",cancel:"取消",ok:"確定","please click select":"選択して下さい"},ko:{hour:"시",minute:"분",second:"초",zone:"時區",cancel:"취소",ok:"확인","please click select":"선택 클릭"},th:{hour:"ชม.",minute:"น.",second:"วิ",zone:"เขต",cancel:"ยกเลิก",ok:"ตกลง","please click select":"คลิกเลือก"},es:{hour:"Hr",minute:"Min",second:"Seg",zone:"Zona",cancel:"Cancelar",ok:"OK","please click select":"Clic para elegir"},de:{hour:"Std",minute:"Min",second:"Sek",zone:"Zone",cancel:"Abbr.",ok:"OK","please click select":"Klicken Sie wählen"},fr:{hour:"Hr",minute:"Min",second:"Sec",zone:"Zone",cancel:"Annul.",ok:"OK","please click select":"Cliquer choisir"},pt:{hour:"Hr",minute:"Min",second:"Seg",zone:"Fuso",cancel:"Cancelar",ok:"OK","please click select":"Clique para sel."},ru:{hour:"Час",minute:"Мин",second:"Сек",zone:"Зона",cancel:"Отмена",ok:"ОК","please click select":"Нажмите выбрать"},vi:{hour:"Giờ",minute:"Phút",second:"Giây",zone:"Múi",cancel:"Hủy",ok:"OK","please click select":"Nhấn chọn"}}}click(t){const e=this.refs[t];void 0===e.dataset.cgPopOpen?"first"!==t||this.propBoolean("date")?i.form.showPop(e,this.refs[t+"pop"],"v"):i.form.showPop(e,this.refs.timepop,"v"):i.form.hidePop(e)}zoneOk(){const t=parseInt(this.vzone[0]);this.tzData=t>=0?t+parseInt(this.vzdec[0])/60:t-parseInt(this.vzdec[0])/60,this.emit("update:tz",this.tzData);const e=this.dateObj.getTime()-60*this.tzData*60*1e3;if(void 0!==this.timestamp&&e!==this.timestamp){const t={detail:{before:this.timestamp,value:e}};this.timestamp=e,this.emit("update:modelValue",this.timestamp),this.emit("changed",t)}i.form.hidePop()}timeOk(){const t={detail:{before:this.timestamp,value:this.dateObj.getTime()-60*this.tzData*60*1e3}};this.dateObj.setUTCHours(parseInt(this.vhour[0]),parseInt(this.vminute[0]),parseInt(this.vseconds[0]),0),this.timestamp=t.detail.value,this.dateStr=this.dateObj.getUTCFullYear().toString()+"-"+(this.dateObj.getUTCMonth()+1).toString().padStart(2,"0")+"-"+this.dateObj.getUTCDate().toString().padStart(2,"0"),this.timeStr=this.dateObj.getUTCHours().toString().padStart(2,"0")+":"+this.dateObj.getUTCMinutes().toString().padStart(2,"0")+":"+this.dateObj.getUTCSeconds().toString().padStart(2,"0"),this.emit("update:modelValue",this.timestamp),this.emit("update:hourminute",this.vhour[0]+this.vminute[0]+this.vseconds[0]),this.emit("changed",t),i.form.hidePop()}cancel(){i.form.hidePop()}clear(){this.timestamp=void 0,this.emit("update:modelValue",void 0)}changed(t){this.emit("update:modelValue",this.timestamp);const e={detail:{before:t.detail.before,value:this.timestamp}};if(this.emit("changed",e),void 0===this.timestamp)return;this.dateObj.setTime(this.timestamp+60*this.tzData*60*1e3),this.dateStr=this.dateObj.getUTCFullYear().toString()+"-"+(this.dateObj.getUTCMonth()+1).toString().padStart(2,"0")+"-"+this.dateObj.getUTCDate().toString().padStart(2,"0");const i=this.dateObj.getUTCHours().toString().padStart(2,"0"),s=this.dateObj.getUTCMinutes().toString().padStart(2,"0"),a=this.dateObj.getUTCSeconds().toString().padStart(2,"0");this.timeStr=i+":"+s+":"+a;i+s+a!==this.props.hourminute&&this.emit("update:hourminute",i+s+a)}selected(){i.form.hidePop(this.refs.firstpop)}onMounted(){for(let t=0;t<=23;++t)this.hours.push(t.toString().padStart(2,"0"));for(let t=0;t<=59;++t)this.minutes.push(t.toString().padStart(2,"0"));for(let t=0;t<=59;++t)this.seconds.push(t.toString().padStart(2,"0"));for(let t=-12;t<=14;++t)this.zones.push((t>=0?"+":"")+t.toString());this.watch("tz",()=>{let t=0;if(void 0===this.props.tz?(t=-this.dateObj.getTimezoneOffset()/60,this.emit("update:tz",t)):t=this.propNumber("tz"),this.tzData===t)return;this.tzData=t;const e=this.tzData.toString().split(".");this.vzone[0]=(parseInt(e[0])>=0?"+":"")+e[0],this.vzdec[0]=e[1]?(60*parseFloat("0."+e[1])).toString():"00",void 0!==this.timestamp&&this.emit("update:modelValue",this.dateObj.getTime()-60*this.tzData*6e4)},{immediate:!0}),this.watch("modelValue",()=>{if(void 0===this.props.modelValue)return this.timestamp=void 0,this.vhour[0]="00",this.vminute[0]="00",void(this.vseconds[0]="00");this.timestamp!==this.propInt("modelValue")&&(this.timestamp=this.propInt("modelValue"),this.dateObj.setTime(this.timestamp+60*this.tzData*60*1e3),this.dateStr=this.dateObj.getUTCFullYear().toString()+"-"+(this.dateObj.getUTCMonth()+1).toString().padStart(2,"0")+"-"+this.dateObj.getUTCDate().toString().padStart(2,"0"),this.timeStr=this.dateObj.getUTCHours().toString().padStart(2,"0")+":"+this.dateObj.getUTCMinutes().toString().padStart(2,"0")+":"+this.dateObj.getUTCSeconds().toString().padStart(2,"0"),this.vhour[0]=this.dateObj.getUTCHours().toString().padStart(2,"0"),this.vminute[0]=this.dateObj.getUTCMinutes().toString().padStart(2,"0"),this.vseconds[0]=this.dateObj.getUTCSeconds().toString().padStart(2,"0"))},{immediate:!0}),this.watch("hourminute",()=>{const t=this.vhour[0]+this.vminute[0]+this.vseconds[0];this.props.hourminute?this.props.hourminute!==t&&(this.vhour[0]=this.props.hourminute.slice(0,2),this.vminute[0]=this.props.hourminute.slice(2,4),this.vseconds[0]=this.props.hourminute.slice(4)):this.emit("update:hourminute",t)},{immediate:!0})}}return s}(clickgo.modules.clickgo);