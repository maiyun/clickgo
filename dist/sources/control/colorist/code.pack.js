var emodule=function(e){"use strict";function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(o){if("default"!==o){var i=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:function(){return e[o]}})}}),t.default=e,Object.freeze(t)}var o=t(e);class i extends o.control.AbstractControl{get filename(){return"/code.js"}constructor(){super(...arguments),this.emits={changed:null,"update:modelValue":null},this.props={disabled:!1,mode:"hsl",modelValue:""},this.paletteChanged={detail:{value:"",hsl:void 0,rgb:void 0}},this.color="",this.value=""}ok(){this.value!==this.color&&(this.value=this.color,this.emit("update:modelValue",this.value),this.emit("changed",this.paletteChanged)),o.form.hidePop(this.element)}down(e){o.dom.hasTouchButMouse(e)||(void 0===this.element.dataset.cgPopOpen?o.form.showPop(this.element,this.refs.pop,"v"):o.form.hidePop(this.element))}changed(e){this.paletteChanged=e}onMounted(){this.watch("modelValue",async()=>{this.props.modelValue!==this.value&&(this.value=this.props.modelValue,this.color=this.props.modelValue,await this.nextTick(),this.ok())},{immediate:!0}),this.watch("mode",async()=>{await this.nextTick(),this.ok()})}}return i}(clickgo.modules.clickgo);