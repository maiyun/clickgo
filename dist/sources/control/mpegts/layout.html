<div class="wrap" @pointerdown="onDown" @pointerenter="onDown">
    <div v-if="notInit" class="notInit">Mpegts module not found.</div>
    <video v-else ref="video" class="video" :controls="false" @canplay="onCanplay" @playing="onPlaying" @pause="onPause" @waiting="onWaiting"></video>
    <canvas ref="canvas"></canvas>
    <div class="controls" v-if="propBoolean('controls')" :style="{'opacity': isShow ? '1' : '0'}">
        <div class="left">
            <div class="button" @click="playClick">
                <svg v-if="propBoolean('play')" viewBox="0 0 24 24" stroke="none" width="24" height="24"><path clip-rule="evenodd" d="m10.75 9c0-.41421-.3358-.75-.75-.75-.41421 0-.75.33579-.75.75v6c0 .4142.33579.75.75.75.4142 0 .75-.3358.75-.75zm4 0c0-.41421-.3358-.75-.75-.75s-.75.33579-.75.75v6c0 .4142.3358.75.75.75s.75-.3358.75-.75z" fill-rule="evenodd"/></svg>
                <svg v-else viewBox="0 0 24 24" stroke="none" width="24" height="24"><path clip-rule="evenodd" d="m12.3621 6.04895 2.0113 1.06484c1.2695.67208 2.269 1.20117 3.0007 1.67871.7316.47752 1.3129.97489 1.6171 1.6321.4627.9993.4627 2.1515 0 3.1508-.3042.6572-.8855 1.1546-1.6171 1.6321-.7318.4775-1.7312 1.0066-3.0007 1.6787l-2.0114 1.0649c-1.1331.5999-2.0298 1.0746-2.76141 1.3801-.73709.3077-1.4148.4926-2.08824.4042-1.03476-.1357-1.96616-.6964-2.57025-1.5475-.39315-.5538-.54686-1.2393-.61976-2.0347-.07235-.7895-.07235-1.8042-.07234-3.0863v-2.1338c-.00001-1.28214-.00001-2.29683.07234-3.08632.0729-.79543.22661-1.48088.61976-2.03473.60409-.851 1.53549-1.41178 2.57025-1.54749.67344-.08833 1.35115.09654 2.08824.40428.73161.30545 1.62841.78021 2.76151 1.38011zm-3.33943.00409c-.66253-.27661-1.04029-.33728-1.31526-.30122-.62085.08143-1.17969.41789-1.54215.9285-.16053.22614-.28366.58839-.34918 1.30335-.06533.71285-.06608 1.65859-.06608 2.98863v2.0554c0 1.33.00075 2.2758.06608 2.9886.06552.715.18865 1.0772.34918 1.3034.36246.5106.9213.8471 1.54215.9285.27497.036.65273-.0246 1.31526-.3012.66058-.2758 1.49673-.7177 2.67223-1.34l1.9412-1.0277c1.3127-.695 2.2509-1.1925 2.9182-1.628.6741-.4399.9551-.7455 1.0757-1.0061.2776-.5996.2776-1.2908 0-1.8904-.1206-.2606-.4016-.5662-1.0757-1.0061-.6673-.43553-1.6055-.93305-2.9182-1.62804l-1.9412-1.02766c-1.1755-.62233-2.01165-1.06416-2.67223-1.33996z" fill-rule="evenodd"/></svg>
            </div>
            <div>{{text}}</div>
        </div>
        <div class="right">
            <div class="button" @click="volumeClick">
                <svg v-if="volume" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M19 6C20.5 7.5 21 10 21 12C21 14 20.5 16.5 19 18M16 8.99998C16.5 9.49998 17 10.5 17 12C17 13.5 16.5 14.5 16 15M3 10.5V13.5C3 14.6046 3.5 15.5 5.5 16C7.5 16.5 9 21 12 21C14 21 14 3 12 3C9 3 7.5 7.5 5.5 8C3.5 8.5 3 9.39543 3 10.5Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <svg v-else width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M22 9L16 15M16 9L22 15M3 10.5V13.5C3 14.6046 3.5 15.5 5.5 16C7.5 16.5 9 21 12 21C14 21 14 3 12 3C9 3 7.5 7.5 5.5 8C3.5 8.5 3 9.39543 3 10.5Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </div>
            <div class="button" @click="fullClick">
                <svg v-if="isFull" width="20" height="20" viewBox="0 0 24 24" stroke="none"><path d="m13.8 2.25h-.0321c-.8128-.00001-1.4685-.00001-1.9994.04336-.5466.04467-1.0267.13902-1.471.36537-.70557.35952-1.27925.9332-1.63877 1.63881-.22634.44421-.3207.92435-.36537 1.47099-.04337.53091-.04337 1.18651-.04336 1.99934v.00002.03211.45h-.45-.0321-.00003c-.81283-.00001-1.46843-.00001-1.99934.04336-.54663.04467-1.02678.13902-1.47099.36537-.70561.35952-1.27929.9332-1.63881 1.63877-.22634.4443-.3207.9244-.36537 1.471-.04337.5309-.04337 1.1866-.04336 1.9994v.0321 2.4.0321c-.00001.8128-.00001 1.4685.04336 1.9994.04467.5466.13903 1.0267.36537 1.471.35952.7056.9332 1.2792 1.63881 1.6388.44421.2263.92436.3207 1.47099.3653.53091.0434 1.18652.0434 1.99935.0434h.03212 2.4.0321c.8129 0 1.4685 0 1.9994-.0434.5466-.0446 1.0267-.139 1.471-.3653.7056-.3596 1.2792-.9332 1.6388-1.6388.2263-.4443.3207-.9244.3653-1.471.0434-.5309.0434-1.1865.0434-1.9994v-.0321-.45h.45.0321c.8129 0 1.4685 0 1.9994-.0434.5466-.0446 1.0267-.139 1.471-.3653.7056-.3596 1.2793-.9332 1.6388-1.6388.2263-.4443.3207-.9244.3653-1.471.0434-.5309.0434-1.1865.0434-1.9994v-.0321-2.4-.03212c0-.81283 0-1.46844-.0434-1.99935-.0446-.54664-.139-1.02678-.3653-1.47099-.3595-.70561-.9332-1.27929-1.6388-1.63881-.4443-.22635-.9244-.3207-1.471-.36537-.5309-.04337-1.1865-.04337-1.9994-.04336h-.0321zm1.95 12h.45c.8525 0 1.4467-.0006 1.9093-.0384.4539-.0371.7147-.1062.9122-.2068.4233-.2158.7675-.56.9833-.9833.1006-.1975.1697-.4583.2068-.9122.0378-.4626.0384-1.0568.0384-1.9093v-2.4c0-.85245-.0006-1.44669-.0384-1.90932-.0371-.45388-.1062-.71464-.2068-.91216-.2158-.42336-.56-.76757-.9833-.98328-.1975-.10064-.4583-.16978-.9122-.20686-.4626-.0378-1.0568-.03838-1.9093-.03838h-2.4c-.8525 0-1.4467.00058-1.9093.03838-.4539.03708-.7147.10622-.9122.20686-.4233.21571-.7675.55992-.98326.98328-.10064.19752-.16977.45828-.20686.91216-.0378.46263-.03838 1.05687-.03838 1.90932v.45h.45.0321c.8129-.00001 1.4685-.00001 1.9994.04336.5466.04467 1.0267.13902 1.471.36537.7056.35952 1.2792.9332 1.6388 1.63877.2263.4443.3207.9244.3653 1.471.0434.5309.0434 1.1865.0434 1.9994v.0321zm-10.77148-4.25476c.19752-.10064.45829-.16978.91216-.20686.46263-.0378 1.05687-.03838 1.90932-.03838h2.4c.8525 0 1.4467.00058 1.9093.03838.4539.03708.7147.10622.9122.20686.4233.21576.7675.55996.9833.98326.1006.1975.1697.4583.2068.9122.0378.4626.0384 1.0568.0384 1.9093v2.4c0 .8525-.0006 1.4467-.0384 1.9093-.0371.4539-.1062.7147-.2068.9122-.2158.4233-.56.7675-.9833.9833-.1975.1006-.4583.1697-.9122.2068-.4626.0378-1.0568.0384-1.9093.0384h-2.4c-.85245 0-1.44669-.0006-1.90932-.0384-.45387-.0371-.71464-.1062-.91216-.2068-.42336-.2158-.76757-.56-.98328-.9833-.10064-.1975-.16977-.4583-.20686-.9122-.0378-.4626-.03838-1.0568-.03838-1.9093v-2.4c0-.8525.00058-1.4467.03838-1.9093.03709-.4539.10622-.7147.20686-.9122.21571-.4233.55992-.7675.98328-.98326z" fill-rule="evenodd" /></svg>
                <svg v-else viewBox="0 0 24 24" stroke="none" width="20" height="20"><path d="m7.8 2.25h-.0321-.00002c-.81283-.00001-1.46844-.00001-1.99935.04336-.54663.04467-1.02678.13903-1.47099.36537-.70561.35952-1.27929.9332-1.63881 1.63881-.22634.44421-.3207.92436-.36537 1.47099-.04337.53091-.04337 1.18652-.04336 1.99935v.00002.0321 8.4.0321c-.00001.8129-.00001 1.4685.04336 1.9994.04467.5466.13903 1.0267.36537 1.471.35952.7056.9332 1.2792 1.63881 1.6388.44421.2263.92436.3207 1.47099.3653.53091.0434 1.18652.0434 1.99935.0434h.03212 8.4.0321c.8129 0 1.4685 0 1.9994-.0434.5466-.0446 1.0267-.139 1.471-.3653.7056-.3596 1.2792-.9332 1.6388-1.6388.2263-.4443.3207-.9244.3653-1.471.0434-.5309.0434-1.1865.0434-1.9994v-.0321-8.4-.03212c0-.81283 0-1.46844-.0434-1.99935-.0446-.54663-.139-1.02678-.3653-1.47099-.3596-.70561-.9332-1.27929-1.6388-1.63881-.4443-.22634-.9244-.3207-1.471-.36537-.5309-.04337-1.1865-.04337-1.9994-.04336h-.0321zm-2.82148 1.74524c.19752-.10064.45829-.16977.91216-.20686.46263-.0378 1.05687-.03838 1.90932-.03838h8.4c.8525 0 1.4467.00058 1.9093.03838.4539.03709.7147.10622.9122.20686.4233.21571.7675.55992.9833.98328.1006.19752.1697.45829.2068.91216.0378.46263.0384 1.05687.0384 1.90932v8.4c0 .8525-.0006 1.4467-.0384 1.9093-.0371.4539-.1062.7147-.2068.9122-.2158.4233-.56.7675-.9833.9833-.1975.1006-.4583.1697-.9122.2068-.4626.0378-1.0568.0384-1.9093.0384h-8.4c-.85245 0-1.44669-.0006-1.90932-.0384-.45387-.0371-.71464-.1062-.91216-.2068-.42336-.2158-.76757-.56-.98328-.9833-.10064-.1975-.16977-.4583-.20686-.9122-.0378-.4626-.03838-1.0568-.03838-1.9093v-8.4c0-.85245.00058-1.44669.03838-1.90932.03709-.45387.10622-.71464.20686-.91216.21571-.42336.55992-.76757.98328-.98328zm8.22148 2.75476c.8525 0 1.4467.00058 1.9093.03838.4539.03709.7147.10622.9122.20686.4233.21571.7675.55992.9833.98328.1006.19752.1697.45828.2068.91216.0378.46263.0384 1.05687.0384 1.90932v2.2c0 .4142.3358.75.75.75s.75-.3358.75-.75v-2.2-.0321c0-.81284 0-1.46846-.0434-1.99937-.0446-.54663-.139-1.02678-.3653-1.47099-.3596-.70561-.9332-1.27929-1.6388-1.63881-.4443-.22634-.9244-.3207-1.471-.36537-.5309-.04337-1.1866-.04337-1.9994-.04336h-.0321-2.2c-.4142 0-.75.33579-.75.75s.3358.75.75.75z" /></svg>
            </div>
        </div>
    </div>
    <div v-if="isLoading" class="mask" :class="[isLoading && 'loading']">
        <cg-loading v-if="isLoading"></cg-loading>
    </div>
</div>