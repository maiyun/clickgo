var emodule=function(e){"use strict";function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(i){if("default"!==i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}}),t.default=e,Object.freeze(t)}var i=t(e);class a extends i.control.AbstractControl{get filename(){return"/code.js"}emits={changed:null,"update:modelValue":null,"update:tz":null};props={disabled:!1,modelValue:[],tz:void 0,start:void 0,end:void 0,time:!0,zone:!1,close:!0};dateObj=[new Date,new Date];cursor="";ts=void 0;ts2=void 0;dateStr=["",""];timeStr=["",""];tzData=0;vzone=[];zones=[];vzdec=[];zdecs=["00","15","30","45"];localeData={en:{minute:"Min",zone:"Zone",cancel:"Cancel",ok:"OK","please click select":"Click to select"},sc:{minute:"分",zone:"时区",cancel:"取消",ok:"确定","please click select":"请点击选择"},tc:{minute:"分",zone:"時區",cancel:"取消",ok:"確定","please click select":"請點擊選擇"},ja:{minute:"分",zone:"時區",cancel:"取消",ok:"確定","please click select":"選択して下さい"},ko:{minute:"분",zone:"時區",cancel:"취소",ok:"확인","please click select":"선택 클릭"},th:{minute:"น.",zone:"เขต",cancel:"ยกเลิก",ok:"ตกลง","please click select":"คลิกเลือก"},es:{minute:"Min",zone:"Zona",cancel:"Cancelar",ok:"OK","please click select":"Clic para elegir"},de:{minute:"Min",zone:"Zone",cancel:"Abbr.",ok:"OK","please click select":"Klicken Sie wählen"},fr:{minute:"Min",zone:"Zone",cancel:"Annul.",ok:"OK","please click select":"Cliquer choisir"},pt:{minute:"Min",zone:"Fuso",cancel:"Cancelar",ok:"OK","please click select":"Clique para sel."},ru:{minute:"Мин",zone:"Зона",cancel:"Отмена",ok:"ОК","please click select":"Нажмите выбрать"},vi:{minute:"Phút",zone:"Múi",cancel:"Hủy",ok:"OK","please click select":"Nhấn chọn"}};showTwoDatePanel=!1;click(e){const t=this.refs[e];if(void 0===t.dataset.cgPopOpen){if("first"===e){const e=i.core.getAvailArea();this.showTwoDatePanel=e.width>=600}i.form.showPop(t,this.refs[e+"pop"],"v")}else i.form.hidePop(t)}zoneOk(){const e=parseInt(this.vzone[0]);this.tzData=e>=0?e+parseInt(this.vzdec[0])/60:e-parseInt(this.vzdec[0])/60,this.emit("update:tz",this.tzData),this.dateStr[0]&&(this.emit("update:modelValue",[this.dateObj[0].getTime()-60*this.tzData*6e4,this.dateObj[1].getTime()-60*this.tzData*6e4]),this.emit("changed")),i.form.hidePop()}cancel(){i.form.hidePop()}clear(){this.ts=void 0,this.dateStr.length=0,this.emit("update:modelValue",[]),this.emit("changed")}onRange(e){e.preventDefault();const t=[];let a=i.tool.formatTime(e.detail.start,this.tzData);this.dateStr[0]=a.date,this.timeStr[0]=a.time,t.push(e.detail.start),this.dateObj[0].setTime(e.detail.start+60*this.tzData*6e4),a=i.tool.formatTime(e.detail.end,this.tzData),this.dateStr[1]=a.date,this.timeStr[1]=a.time,t.push(e.detail.end),this.dateObj[1].setTime(e.detail.end+60*this.tzData*6e4),this.emit("update:modelValue",t),this.emit("changed"),i.form.hidePop(this.refs.firstpop),this.refs.firstpanel.clear(),this.refs.endpanel.clear()}firstChanged(e){if(void 0===e.detail.value)return void(this.ts2=void 0);const t=new Date(e.detail.value);t.setUTCHours(23,59,59,0),this.ts2=t.getTime()-60*this.tzData*6e4}firstym="";endym="";onYmChange(){if(this.endym>this.firstym)return;const e=new Date;e.setUTCFullYear(parseInt(this.firstym.slice(0,4)),parseInt(this.firstym.slice(4)),1),this.endym=e.getUTCFullYear().toString()+(e.getUTCMonth()+1).toString().padStart(2,"0")}onMounted(){for(let e=-12;e<=14;++e)this.zones.push((e>=0?"+":"")+e.toString());this.watch("tz",()=>{void 0===this.props.tz?(this.tzData=-this.dateObj[0].getTimezoneOffset()/60,this.emit("update:tz",this.tzData)):this.tzData=this.propNumber("tz");const e=this.tzData.toString().split(".");this.vzone[0]=(parseInt(e[0])>=0?"+":"")+e[0],this.vzdec[0]=e[1]?(60*parseFloat("0."+e[1])).toString():"00",this.dateStr[0]&&(this.emit("update:modelValue",[this.dateObj[0].getTime()-60*this.tzData*6e4,this.dateObj[1].getTime()-60*this.tzData*6e4]),this.emit("changed"))},{immediate:!0}),this.watch("modelValue",()=>{if(void 0===this.props.modelValue[0]||void 0===this.props.modelValue[1])return void(this.dateStr.length=0);const e=this.propArray("modelValue");for(let t=0;t<=1;++t){const a="string"==typeof e[t]?parseInt(e[t]):e[t],s=i.tool.formatTime(a,this.tzData);this.dateStr[t]=s.date,this.timeStr[t]=s.time}},{immediate:!0,deep:!0})}}return a}(clickgo.modules.clickgo);