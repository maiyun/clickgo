var emodule=function(t){"use strict";function e(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}}),e.default=t,Object.freeze(e)}var i=e(t);class s extends i.control.AbstractControl{get filename(){return"/code.js"}constructor(){super(...arguments),this.emits={changed:null,"update:modelValue":null,"update:tz":null},this.props={disabled:!1,modelValue:[],tz:void 0,start:void 0,end:void 0,time:!0,zone:!1,close:!0},this.dateObj=[new Date,new Date],this.cursor="",this.ts=void 0,this.ts2=void 0,this.dateStr=["",""],this.timeStr=["",""],this.tzData=0,this.vzone=[],this.zones=[],this.vzdec=[],this.zdecs=["00","15","30","45"],this.localeData={en:{minute:"Min",zone:"Zone",cancel:"Cancel",ok:"OK","please click select":"Click to select"},sc:{minute:"分",zone:"时区",cancel:"取消",ok:"确定","please click select":"请点击选择"},tc:{minute:"分",zone:"時區",cancel:"取消",ok:"確定","please click select":"請點擊選擇"},ja:{minute:"分",zone:"時區",cancel:"取消",ok:"確定","please click select":"選択して下さい"},ko:{minute:"분",zone:"時區",cancel:"취소",ok:"확인","please click select":"선택 클릭"},th:{minute:"น.",zone:"เขต",cancel:"ยกเลิก",ok:"ตกลง","please click select":"คลิกเลือก"},es:{minute:"Min",zone:"Zona",cancel:"Cancelar",ok:"OK","please click select":"Clic para elegir"},de:{minute:"Min",zone:"Zone",cancel:"Abbr.",ok:"OK","please click select":"Klicken Sie wählen"},fr:{minute:"Min",zone:"Zone",cancel:"Annul.",ok:"OK","please click select":"Cliquer choisir"},pt:{minute:"Min",zone:"Fuso",cancel:"Cancelar",ok:"OK","please click select":"Clique para sel."},ru:{minute:"Мин",zone:"Зона",cancel:"Отмена",ok:"ОК","please click select":"Нажмите выбрать"},vi:{minute:"Phút",zone:"Múi",cancel:"Hủy",ok:"OK","please click select":"Nhấn chọn"}},this.showTwoDatePanel=!1,this.firstym="",this.endym=""}click(t){const e=this.refs[t];if(void 0===e.dataset.cgPopOpen){if("first"===t){const t=i.core.getAvailArea();this.showTwoDatePanel=t.width>=600}i.form.showPop(e,this.refs[t+"pop"],"v")}else i.form.hidePop(e)}zoneOk(){const t=parseInt(this.vzone[0]);this.tzData=t>=0?t+parseInt(this.vzdec[0])/60:t-parseInt(this.vzdec[0])/60,this.emit("update:tz",this.tzData),this.dateStr[0]&&this.emit("update:modelValue",[this.dateObj[0].getTime()-60*this.tzData*6e4,this.dateObj[1].getTime()-60*this.tzData*6e4]),i.form.hidePop()}cancel(){i.form.hidePop()}clear(){this.ts=void 0,this.dateStr.length=0,this.emit("update:modelValue",[])}onRange(t){t.preventDefault();const e=[];let s=i.tool.formatTime(t.detail.start,this.tzData);this.dateStr[0]=s.date,this.timeStr[0]=s.time,e.push(t.detail.start),this.dateObj[0].setTime(t.detail.start+60*this.tzData*6e4),s=i.tool.formatTime(t.detail.end,this.tzData),this.dateStr[1]=s.date,this.timeStr[1]=s.time,e.push(t.detail.end),this.dateObj[1].setTime(t.detail.end+60*this.tzData*6e4),this.emit("update:modelValue",e),i.form.hidePop(this.refs.firstpop),this.refs.firstpanel.clear(),this.refs.endpanel.clear()}firstChanged(t){if(void 0===t.detail.value)return void(this.ts2=void 0);const e=new Date(t.detail.value);e.setUTCHours(23,59,59,0),this.ts2=e.getTime()-60*this.tzData*6e4}onYmChange(){if(this.endym>this.firstym)return;const t=new Date;t.setUTCFullYear(parseInt(this.firstym.slice(0,4)),parseInt(this.firstym.slice(4)),1),this.endym=t.getUTCFullYear().toString()+(t.getUTCMonth()+1).toString().padStart(2,"0")}onMounted(){for(let t=-12;t<=14;++t)this.zones.push((t>=0?"+":"")+t.toString());this.watch("tz",()=>{void 0===this.props.tz?(this.tzData=-this.dateObj[0].getTimezoneOffset()/60,this.emit("update:tz",this.tzData)):this.tzData=this.propNumber("tz");const t=this.tzData.toString().split(".");this.vzone[0]=(parseInt(t[0])>=0?"+":"")+t[0],this.vzdec[0]=t[1]?(60*parseFloat("0."+t[1])).toString():"00",this.dateStr[0]&&this.emit("update:modelValue",[this.dateObj[0].getTime()-60*this.tzData*6e4,this.dateObj[1].getTime()-60*this.tzData*6e4])},{immediate:!0}),this.watch("modelValue",()=>{if(void 0===this.props.modelValue[0]||void 0===this.props.modelValue[1])return void(this.dateStr.length=0);const t=this.propArray("modelValue");for(let e=0;e<=1;++e){const s="string"==typeof t[e]?parseInt(t[e]):t[e],a=i.tool.formatTime(s,this.tzData);this.dateStr[e]=a.date,this.timeStr[e]=a.time}},{immediate:!0,deep:!0})}}return s}(clickgo.modules.clickgo);