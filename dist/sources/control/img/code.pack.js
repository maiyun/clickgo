var emodule=function(t){"use strict";function e(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}}),e.default=t,Object.freeze(e)}var i=e(t);class s extends i.control.AbstractControl{get filename(){return"/code.js"}constructor(){super(...arguments),this.props={src:"",mode:"default",direction:"h",gutter:"",alignH:void 0,alignV:void 0},this.imgData="",this.width=0,this.height=0,this.count=0}get backgroundSize(){return"default"===this.props.mode?this.width.toString()+"px "+this.height.toString()+"px":this.props.mode}onMounted(){this.watch("src",async()=>{const t=++this.count;if("string"!=typeof this.props.src||""===this.props.src)return void(this.imgData="");const e=this.props.src.slice(0,6).toLowerCase();if("file:/"===e)return void(this.imgData="");if("http:/"===e||"https:"===e||e.startsWith("data:"))return void(this.imgData=`url(${this.props.src})`);let s=null;if(this.props.src.startsWith("/control/")){if(!this.rootControl)return;s=this.rootControl.packageFiles[this.props.src.slice(8)]}else{const t=i.tool.urlResolve("/package"+this.path+"/",this.props.src);s=await i.fs.getContent(this,t)}if(t!==this.count||!s||"string"==typeof s)return;const r=await i.tool.blob2DataUrl(s);t===this.count&&(this.imgData=r?"url("+r+")":"")},{immediate:!0}),i.dom.watchSize(this,this.element,()=>{this.width=this.element.offsetWidth,this.height=this.element.offsetHeight},!0)}}return s}(clickgo.modules.clickgo);