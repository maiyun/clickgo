<div class="wrap" :data-cg-disabled="isDisabled ? '' : undefined" :tabindex="!isDisabled && cgFocus && '0'" @keydown="keydown">
    <div class="inner" ref="inner" @contextmenu="context" @mousedown="innerDown" @touchstart="innerDown" @click="click">
        <cg-greatview ref="view" :same="isSame" :selection="isSelection" :data="data" v-slot="d" direction="v" v-model:scroll-top="offset" @beforeselect="onBeforeSelect" @select="onSelect($event)" @afterselect="onAfterSelect" @itemsposchange="onItemsPosChange" @resize="client = $event" @resizen="clientWidth = $event" @change="length = $event">
            <div v-if="d.row.control === 'split'" class="split"></div>
            <div v-else class="item" :class="[isSelected(d.index) && 'selected', (shiftStart === d.index) && 'shift']" :style="{'width': clientWidth + 'px'}" :data-cg-disabled="d.row.disabled ? '' : undefined" @touchstart="itemTouch($event, d.index)" @contextmenu="itemContext($event, d.index)">
                <div class="itemInner" @click="itemClick($event, d.index)">
                    <slot :row="d.row" :index="d.index"></slot>
                </div>
                <div v-if="!d.row.disabled && d.row.menu" class="itemArrow" @click="arrowClick($event, d.index)"></div>
            </div>
        </cg-greatview>
    </div>
    <cg-scroll v-if="scroll !== 'hidden'" v-show="(scroll === 'visible') || (length > client)" :length="length" :client="client" v-model:scroll-offset="offset" :float="scroll === 'auto'"></cg-scroll>
    <teleport v-if="$slots.pop" to="#cg-pop-list">
        <div ref="pop" data-cg-pop>
            <slot name="pop"></slot>
        </div>
    </teleport>
    <teleport v-if="$slots.itempop" to="#cg-pop-list">
        <div ref="itempop" data-cg-pop>
            <slot name="itempop"></slot>
        </div>
    </teleport>
</div>