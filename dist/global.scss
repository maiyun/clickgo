@font-face {
    font-family: 'Noto Sans Regular';
    src: url('notosans-regular.ttf');
}

#cg-wrap {
    position: fixed; left: 0; top: 0;
    --g-padding-xs:2px;
    --g-padding-s:4px;
    --g-padding:7px;
    --g-padding-h:4px var(--g-padding);
    --g-padding-l:14px;
    --g-padding-l-h:8px var(--g-padding-l);
    --g-padding-xl:22px;
    --g-padding-xl-h:12px var(--g-padding-xl);
    --g-bpadding:18px;
    --g-margin:2px;
    --g-radius:0;
    --g-radius-l:4px;
    --g-radius-xl:8px;
    --g-size-xs:10px;
    --g-size:12px;
    --g-size-m:16px;
    --g-size-l:20px;
    --g-size-xl:28px;
    --g-size-xxl:34px;
    --g-control:14px;   // --- 如 check、radio 等的宽度 ---
    --g-control-m:18px; // --- 如 switch、scroll ---
    --g-control-l:22px;
    --g-family:"Noto Sans Regular",apple-system,BlinkMacSystemFont,"Helvetica Neue",Helvetica,Arial,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;
    --g-line:1.2;
    --g-cubic:cubic-bezier(0.39, 0.575, 0.565, 1);
    --g-transition:none;
    --g-boxsize:calc(var(--g-padding) * 2 + var(--g-size));

    // --- 基础颜色 ---
    --main:oklch(.7 .2 43);
    --cg:var(--main);
    --cg-hover:color-mix(in oklch, var(--cg), white 10%);
    --cg-active:color-mix(in oklch, var(--cg), black 10%);
    --cg-focus:color-mix(in oklch, var(--cg), black 5%);
    --cg-disabled:color-mix(in oklch, var(--cg), oklch(from var(--cg) l 0 none) 100%);
    --cg-bg:color-mix(in oklch, var(--cg), white 85%);

    --success:oklch(.7 .23 150);
    --success-hover:oklch(.75 .23 150);
    --success-active:oklch(.6 .23 150);
    --success-focus:oklch(.65 .23 150);
    --success-disabled:oklch(.85 0 150);
    --success-bg:color-mix(in oklch, var(--success), white 85%);

    --info:oklch(.7 .23 255);
    --info-hover:oklch(.75 .23 255);
    --info-active:oklch(.6 .23 255);
    --info-focus:oklch(.65 .23 255);
    --info-disabled:oklch(.85 0 255);
    --info-bg:color-mix(in oklch, var(--info), white 85%);

    --warning:oklch(.7 .23 45);
    --warning-hover:oklch(.75 .23 45);
    --warning-active:oklch(.6 .23 45);
    --warning-focus:oklch(.65 .23 45);
    --warning-disabled:oklch(.85 0 45);
    --warning-bg:color-mix(in oklch, var(--warning), white 85%);

    --danger:oklch(.7 .23 25);
    --danger-hover:oklch(.75 .23 25);
    --danger-active:oklch(.6 .23 25);
    --danger-focus:oklch(.65 .23 25);
    --danger-disabled:oklch(.85 0 25);
    --danger-bg:color-mix(in oklch, var(--danger), white 85%);

    --system-color:oklch(.96 0 0);
    --system-color-note:oklch(.66 0 0);
    --system-background:oklch(0 0 0 / .65);
    --system-background-hover:oklch(1 0 0 / .06);
    --system-background-active:oklch(1 0 0 / .1);
    --system-control-background:oklch(1 0 0 / .06);
    --system-border-color:oklch(1 0 0 / .09);
    --system-border-color-hover:oklch(1 0 0 / .22);
    --system-placeholder-color:oklch(1 0 0 / .22);

    /** --- 纯底色，如 panel --- */
    --g-pure:oklch(1 0 0);
    --face:oklch(.95 0 0);
    --face-hover:oklch(.9 0 0);
    --face-selected:oklch(.85 0 0);
    --g-pop-background:oklch(1 0 0);
    --g-pop-backdrop:none;
    --g-pop-border:solid .5px var(--g-border-color);
    --g-shadow:none;
    --g-shadow-d:none;
    --g-outline-shadow:none; 

    // --- 组件默认颜色（如按钮） ---

    --g-color:oklch(.45 0 0);
    --g-color-hover:oklch(.55 0 0);
    --g-color-active:oklch(.35 0 0);
    --g-color-focus:oklch(.4 0 0);
    --g-color-disabled:oklch(.6 0 0);
    --g-color-tip:oklch(.6 0 0);

    --g-background:oklch(.95 0 0);
    --g-background-hover:oklch(1 0 0);
    --g-background-active:oklch(.9 0 0);
    --g-background-opacity:oklch(.5 0 0 / .2);
    --g-background-focus:oklch(.97 0 0);
    --g-background-disabled:oklch(.85 0 0);

    --g-border-color:oklch(.5 0 0);
    --g-border-color-hover:oklch(.55 0 0);
    --g-border-color-active:oklch(.4 0 0);
    --g-border-color-focus:oklch(.45 0 0);
    --g-border-color-disabled:oklch(.7 0 0);

    --g-focusbox-border-color:var(--g-plain-border-color);
    
    // --- 组件轻量颜色（如文本框） ---

    --g-plain-color:var(--g-color);
    --g-plain-color-hover:var(--g-color-hover);
    --g-plain-color-active:var(--g-color-active);
    --g-plain-color-focus:var(--g-color-focus);
    --g-plain-color-disabled:var(--g-color-disabled);

    --g-plain-background:oklch(1 0 0);
    --g-plain-background-hover:oklch(.98 0 0);
    --g-plain-background-active:oklch(.95 0 0);
    --g-plain-background-focus:var(--g-plain-background);
    --g-plain-background-disabled:oklch(.95 0 0);
    --g-plain-background-selected:oklch(.95 0 0);

    --g-plain-border-color:oklch(.8 0 0);
    --g-plain-border-color-hover:oklch(.9 0 0);
    --g-plain-border-color-active:oklch(.7 0 0);
    --g-plain-border-color-focus:oklch(.75 0 0);
    --g-plain-border-color-disabled:oklch(.7 0 0);
    --g-plain-border-color-plain:oklch(.95 0 0);

    // --- 特殊组件颜色 ---

    --g-block-background:oklch(.9 0 0);
    --g-block-background-hover:oklch(.8 0 0);
    --g-block-dark-background:oklch(.3 0 0);
    --g-block-dark-background-hover:oklch(.4 0 0);
}
[data-cg-disabled] {
    cursor: not-allowed;
}

#cg-form-list {
    z-index: 20020000;
}
#cg-pop-list {
    z-index: 20020001;
}
#cg-simpletask {
    z-index: 20020002;
}
#cg-rectangle {
    z-index: 20020003; position: absolute; border-radius: 3px; box-shadow: 0 0 10px oklch(0 0 0 / .25); background: oklch(1 0 0 / .05); pointer-events: none; opacity: 0;
}
#cg-circular {
    z-index: 20020003; position: absolute; border: solid 3px var(--cg); border-radius: 50%; filter: drop-shadow(0 0 3px var(--cg)); pointer-events: none; opacity: 0;
}
#cg-gesture {
    z-index: 20020003; position: absolute; border-radius: 50%; pointer-events: none; opacity: 0; background: var(--system-background); box-shadow: 0px 15px 30px rgba(0,0,0,.07); transform: scale(0); width: 20px; height: 20px;
    &.done {
        background: rgba(255, 255, 255, .3); border: solid 3px rgba(0, 0, 0, .3);
    }
    &.ani {
        transition: all .3s var(--g-cubic); transition-property: left, top, transform;
    }
}
#cg-drag {
    z-index: 20020003; position: absolute; border-radius: 3px; pointer-events: none; background: rgba(255, 255, 255, .1); -webkit-backdrop-filter: blur(5px); backdrop-filter: blur(5px); box-shadow: 0 3px 5px rgba(0, 0, 0, .1); opacity: 0; display: flex; justify-content: center; align-items: center; border: solid 1px #FFF; transition: all .3s var(--g-cubic); transition-property: transform, border; transform: initial;
}
#cg-launcher {
    z-index: 20020004; position: fixed; background: var(--system-background); -webkit-backdrop-filter: blur(30px) saturate(1.5); backdrop-filter: blur(30px) saturate(1.5); width: 100%; height: 100%; left: 0; top: 0; color: var(--system-color); display: none; flex-direction: column; transition: all .3s var(--g-cubic); transform: scale(1.2); opacity: 0;
    &:not(.cg-show) {
        pointer-events: none;
    }
    &.cg-show {
        transform: scale(1); opacity: 1;
    }
}
.cg-launcher-search {
    text-align: center; padding: 50px;
}
.cg-launcher-sinput {
    -webkit-appearance: none; appearance: none; padding: 15px; border: solid 2px transparent; background: var(--system-control-background); width: 60%; border-radius: 10px; color: var(--system-color); transition: all .3s var(--g-cubic);
    &::placeholder {
        color: var(--system-placeholder-color);
    }
    &::selection {
        background-color: var(--system-background-hover);
    }
    &:focus {
        outline: none; border-color: var(--system-border-color-hover);
    }
}
.cg-launcher-foldername {
    -webkit-appearance: none; appearance: none; height: 50px; font-size: 28px !important; border: none; background: transparent; width: 50%; color: var(--system-color); text-align: center;
    &::selection {
        background-color: var(--system-background-hover);
    }
    &:focus {
        outline: none;
    }
}
.cg-launcher-item {
    width: 190px; display: inline-flex; vertical-align: middle; margin-bottom: 50px;
}
.cg-launcher-inner {
    flex: 1; width: 0;
}
.cg-launcher-icon {
    background-position: center; background-size: 80px; height: 80px; background-repeat: no-repeat;
    &:active {
        filter: brightness(.6);
    }
}

.cg-launcher-name {
    font-size: var(--g-size); text-align: center; margin-top: 20px;
}
.cg-launcher-icon, .cg-launcher-name {
    transition: all .3s var(--g-cubic); transition-property: opacity;
}
.cg-launcher-space {
    width: 50px;
}
.cg-launcher-folder {
    display: flex; justify-content: center; height: 80px;

    > div {
        height: 80px; width: 80px; background: var(--system-control-background); border-radius: 20px; padding: 10px 4px 4px 10px; transition: all .3s var(--g-cubic); transition-property: left, top, width, height, opacity; overflow-y: auto;
        &::-webkit-scrollbar {
            display: none;
        }
        .cg-launcher-item, .cg-launcher-space {
            transition: all .3s var(--g-cubic);
        }

        &.cg-show {
            padding: 50px 0 0 50px;
        }
        &:not(.cg-show) {
            &:active {
                filter: brightness(.6);
            }

            .cg-launcher-item {
                width: 22px; margin-bottom: 6px;
            }
            .cg-launcher-icon {
                background-size: 16px; height: 16px; pointer-events: none;
            }
            .cg-launcher-name {
                display: none;
            }
            .cg-launcher-space {
                width: 6px;
            }
        }
    }
}
.cg-launcher-list {
    flex: 1; height: 0; overflow-y: auto; padding: 0 0 0 50px;
    &::-webkit-scrollbar {
        display: none;
    }
    &.cg-folder-open {
        > .cg-launcher-item > .cg-launcher-inner {
            > {
                .cg-launcher-icon, .cg-launcher-name {
                    opacity: 0;
                }
                .cg-launcher-folder > div:not(.cg-show) {
                    opacity: 0;
                }
            }
        }
    }
}

[data-cg-pop] {
    position: absolute; box-shadow: 0px 15px 30px oklch(0 0 0 / .07); transition: .3s var(--g-cubic); transition-property: transform, opacity; transform: translateY(-10px); opacity: 0; overflow: hidden;
    &:not([data-cg-open]) {
        pointer-events: none;
    }
    &[data-cg-pop-none] {
        // --- 完全不显示时卸载显示，提高页面执行效率 ---
        display: none !important;
    }
    &[data-cg-open] {
        transform: translateY(0px); opacity: 1;
    }
}

// --- Keyboard ---

#cg-keyboard {
    z-index: 20020005; position: fixed; background: var(--system-background); -webkit-backdrop-filter: blur(30px) saturate(1.5); backdrop-filter: blur(30px) saturate(1.5); left: 0; top: 0; color: var(--system-color); flex-direction: column; transition: .3s var(--g-cubic); transition-property: transform, opacity; transform: translateY(-10px); box-shadow: 0px 15px 30px rgba(0,0,0,.07); border-radius: 10px; display: flex; flex-direction: column; overflow: hidden; font-size: 14px; opacity: 0; display: none;

    > div {
        // --- line ---
        display: flex;
        &:not(:last-child) {
            border-bottom: solid .5px var(--system-border-color);
        }

        > div {
            // --- row ---
            display: flex; flex-direction: column; align-items: center; justify-content: center; height: 50px; gap: 6px;
            &:not(:last-child) {
                border-right: solid .5px var(--system-border-color);
            }

            &:not(.cg-keyboard-null) {
                &:hover {
                    background: var(--system-background-hover);
                }
                &:active {
                    background: var(--system-background-active);
                }
            }
            &.cg-keyboard-checked {
                background: var(--system-background-active);
            }
        }
    }
}


// --- Notify ---

#cg-notify {
    z-index: 20020006;
}

.cg-notify-wrap {
    background: var(--system-background); position: fixed; padding: 15px; border-radius: 10px; right: 0; bottom: 0; width: 280px; font-size: 14px; display: flex; transition: .3s var(--g-cubic); transition-property: transform, opacity; overflow: hidden; color: var(--system-color); box-shadow: 0px 15px 30px rgba(0,0,0,.07); -webkit-backdrop-filter: blur(30px) saturate(1.5); backdrop-filter: blur(30px) saturate(1.5);
    &.cg-notify-only {
        align-items: center;
    }
    &.cg-notify-full {
        .cg-notify-title {
            padding-bottom: 10px;
        }
    }
}
.cg-notify-icon {
    margin-right: 10px; width: 14px; height: 14px; border-radius: 50%;
    &.cg-primary {
        background: var(--success);
    }
    &.cg-info {
        background: var(--info);
    }
    &.cg-warning {
        background: var(--warning);
    }
    &.cg-danger {
        background: var(--danger);
    }
    &.cg-cg {
        background: var(--cg);
    }
    &.cg-progress {
        background: var(--cg);
    }
}
.cg-notify-title {
    font-size: 16px; font-weight: bold;
}
.cg-notify-content {
    line-height: 1.5; word-break: break-word;
}
.cg-notify-note {
    line-height: 1.5; word-break: break-word; color: var(--system-color-note); margin-top: 4px;
}
.cg-notify-progress {
    position: absolute; bottom: 0; left: 0; border-radius: 1px; background: var(--cg); transition: width 1s ease-out; width: 0%; height: 2px;
}

// --- Alert ---

#cg-alert {
    z-index: 20020007;
}

.cg-alert-wrap {
    position: fixed; left: 0; bottom: 100px; width: 100%; font-size: 14px; display: flex; align-items: center; justify-content: center; transition: .3s var(--g-cubic); transition-property: transform, opacity; color: var(--system-color); pointer-events: none;

    &.cg-default {
        .cg-alert-icon {
            display: none;
        }
    }
    &.cg-primary {
        color: var(--success);
        .cg-alert-content {
            border-color: var(--success); background: var(--success-bg);
        }
        .cg-alert-icon {
            background: var(--success);
        }
    }
    &.cg-info {
        color: var(--info);
        .cg-alert-content {
            border-color: var(--info); background: var(--info-bg);
        }
        .cg-alert-icon {
            background: var(--info);
        }
    }
    &.cg-warning {
        color: var(--warning);
        .cg-alert-content {
            border-color: var(--warning); background: var(--warning-bg);
        }
        .cg-alert-icon {
            background: var(--warning);
        }
    }
    &.cg-danger {
        color: var(--danger);
        .cg-alert-content {
            border-color: var(--danger); background: var(--danger-bg);
        }
        .cg-alert-icon {
            background: var(--danger);
        }
    }
    &.cg-cg {
        color: var(--cg);
        .cg-alert-content {
            border-color: var(--cg); background: var(--cg-bg);
        }
        .cg-alert-icon {
            background: var(--cg);
        }
    }
}
.cg-alert-content {
    padding: 15px; background: var(--system-background); display: flex; align-items: center; box-shadow: 0px 15px 30px rgba(0,0,0,.07); -webkit-backdrop-filter: blur(30px) saturate(1.5); backdrop-filter: blur(30px) saturate(1.5); border: solid .5px transparent; border-radius: 10px;
}
.cg-alert-icon {
    margin-right: 10px; width: 14px; height: 14px; border-radius: 50%;
}

#cg-simpletask {
    left: 0; bottom: -46px; width: 100%; height: 46px; top: initial; background: var(--system-background); -webkit-backdrop-filter: blur(30px) saturate(1.5); backdrop-filter: blur(30px) saturate(1.5); padding: 5px 0 5px 5px; display: flex; color: var(--system-color); transition: bottom .3s var(--g-cubic); overflow-x: auto; position: fixed;
    &::-webkit-scrollbar {
        display: none;
    }
}
.cg-simpletask-item {
    background: oklch(0 0 0 / .05); border-radius: 3px; padding: 10px; display: flex; align-items: center; margin-right: 5px;
    &:hover {
        background: oklch(0 0 0 / .1);
    }
    &:active {
        background: oklch(0 0 0 / .2);
    }
}
.cg-simpletask-icon {
    margin-right: 5px; background-size: cover; width: 16px; height: 16px;
}

#cg-confirm {
    z-index: 20020008; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background: var(--system-background); -webkit-backdrop-filter: blur(150px) saturate(1.5); backdrop-filter: blur(150px) saturate(1.5); justify-content: center; align-items: center;

    .cg-confirm-box {
        background: var(--system-background); width: 60%; box-shadow: 0px 15px 30px rgba(0,0,0,.07); font-size: 14px; border-radius: 10px; overflow: hidden; color: var(--system-color);

        #cg-confirm-content {
            padding: 25px; line-height: 1.5;
        }

        .cg-confirm-controls {
            border-top: solid .5px var(--system-border-color); display: flex;

            > div {
                padding: 20px; flex: 1; text-align: center;
                &:last-child {
                    border-left: solid .5px var(--system-border-color);
                }
                &:hover {
                    background: var(--system-background-hover);
                }
                &:active {
                    background: var(--system-background-active);
                }
            }
        }
    }
}